{
    "exportFormatVersion": 2,
    "exportTime": "2026-01-08 14:35:04",
    "containerVersion": {
        "path": "accounts/6134998071/containers/134846891/versions/0",
        "accountId": "6134998071",
        "containerId": "134846891",
        "containerVersionId": "0",
        "container": {
            "path": "accounts/6134998071/containers/134846891",
            "accountId": "6134998071",
            "containerId": "134846891",
            "name": "messerattach.com",
            "publicId": "GTM-MNRP4PF",
            "usageContext": [
                "WEB"
            ],
            "fingerprint": "1760059218396",
            "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/6134998071/containers/134846891/workspaces?apiLink=container",
            "features": {
                "supportUserPermissions": true,
                "supportEnvironments": true,
                "supportWorkspaces": true,
                "supportGtagConfigs": false,
                "supportBuiltInVariables": true,
                "supportClients": false,
                "supportFolders": true,
                "supportTags": true,
                "supportTemplates": true,
                "supportTriggers": true,
                "supportVariables": true,
                "supportVersions": true,
                "supportZones": true,
                "supportTransformations": false
            },
            "tagIds": [
                "GTM-MNRP4PF"
            ]
        },
        "tag": [
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "16",
                "name": "LinkedIn Insight",
                "type": "bzi",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "id",
                        "value": "4898740"
                    }
                ],
                "fingerprint": "1748764818164",
                "firingTriggerId": [
                    "330"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NEEDED",
                    "consentType": {
                        "type": "LIST",
                        "list": [
                            {
                                "type": "TEMPLATE",
                                "value": "ad_storage"
                            },
                            {
                                "type": "TEMPLATE",
                                "value": "personalization_storage"
                            }
                        ]
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "46",
                "name": "Click Cease",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "\n      <!--  ClickCease.com tracking-->\n      <script type='text/javascript'>var script = document.createElement('script');\n      script.async = true; script.type = 'text/javascript';\n      var target = 'https://www.clickcease.com/monitor/stat.js';\n      script.src = target;var elem = document.head;elem.appendChild(script);\n      </script>\n      <noscript>\n      <a href='https://www.clickcease.com' rel='nofollow'><img src='https://monitor.clickcease.com' alt='ClickCease'/></a>\n      </noscript>\n      <!--  ClickCease.com tracking-->\n"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1748764795893",
                "firingTriggerId": [
                    "330"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "112",
                "name": "FB - Page View",
                "type": "cvt_134846891_7",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "disablePushState",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "pixelId",
                        "value": "{{Facebook Pixel}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventId",
                        "value": "{{Unique Event ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "standardEventName",
                        "value": "PageView"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "disableAutoConfig",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enhancedEcommerce",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "dpoLDU",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "advancedMatchingList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "external_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{External ID}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "standard"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "objectPropertiesFromVariable",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "consent",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "advancedMatching",
                        "value": "true"
                    }
                ],
                "fingerprint": "1767097930776",
                "firingTriggerId": [
                    "2147479572"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NEEDED",
                    "consentType": {
                        "type": "LIST",
                        "list": [
                            {
                                "type": "TEMPLATE",
                                "value": "ad_storage"
                            }
                        ]
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "134",
                "name": "Conversion Linker",
                "type": "gclidw",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "enableCrossDomain",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableUrlPassthrough",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "acceptIncoming",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "linkerDomains",
                        "value": "messerattach.com,sgtm.messerattach.com"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableCookieOverrides",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "formDecoration",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "urlPosition",
                        "value": "query"
                    }
                ],
                "fingerprint": "1760052022554",
                "firingTriggerId": [
                    "2147479553"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "145",
                "name": "google_ads_calls",
                "type": "awcc",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "phoneConversionNumber",
                        "value": "320-352-3477"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "767740215"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionLabel",
                        "value": "ZLAFCNKDkusYELeSi-4C"
                    }
                ],
                "fingerprint": "1748648150261",
                "firingTriggerId": [
                    "2147479572"
                ],
                "parentFolderId": "309",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NEEDED",
                    "consentType": {
                        "type": "LIST",
                        "list": [
                            {
                                "type": "TEMPLATE",
                                "value": "ad_storage"
                            }
                        ]
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "146",
                "name": "google_ads_800calls",
                "type": "awcc",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "phoneConversionNumber",
                        "value": "833-352-3477"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "767740215"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionLabel",
                        "value": "WrSjCJnAiesYELeSi-4C"
                    }
                ],
                "fingerprint": "1748648197087",
                "firingTriggerId": [
                    "2147479572"
                ],
                "parentFolderId": "309",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NEEDED",
                    "consentType": {
                        "type": "LIST",
                        "list": [
                            {
                                "type": "TEMPLATE",
                                "value": "ad_storage"
                            }
                        ]
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "173",
                "name": "Mailchimp",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script id=\"mcjs\">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,\"script\",\"https://chimpstatic.com/mcjs-connected/js/users/013b586e07c483c2d1b4818ad/4a4d0015184d42c7b6cc7c886.js\");</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1748764830403",
                "firingTriggerId": [
                    "330"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NEEDED",
                    "consentType": {
                        "type": "LIST",
                        "list": [
                            {
                                "type": "TEMPLATE",
                                "value": "ad_storage"
                            }
                        ]
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "214",
                "name": "ms_uet_base",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "p_em",
                        "value": "{{Customers Email}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "343101821"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_storeConvTrackCookies",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_removeQueryFromUrls",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enhancedConversion",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentUpdates",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "PAGE_LOAD"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ph",
                        "value": "{{Customers Phone Number}}"
                    },
                    {
                        "type": "LIST",
                        "key": "customConfigTable",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "customConfigName",
                                        "value": "gtmTagSource"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "customConfigValue",
                                        "value": "1"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_navTimingApi",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentInheritGtm",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_disableAutoPageView",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enableAutoSpaTracking",
                        "value": "true"
                    }
                ],
                "fingerprint": "1760054799315",
                "firingTriggerId": [
                    "2147479572"
                ],
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "228",
                "name": "ms_uet_view_item",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customEventAction",
                        "value": "view_item"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "userDefined"
                    }
                ],
                "fingerprint": "1760050255092",
                "firingTriggerId": [
                    "92"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "254",
                "name": "ms_uet_site_search",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customEventAction",
                        "value": "site_search"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "userDefined"
                    }
                ],
                "fingerprint": "1748773046796",
                "firingTriggerId": [
                    "331"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NEEDED",
                    "consentType": {
                        "type": "LIST",
                        "list": [
                            {
                                "type": "TEMPLATE",
                                "value": "ad_storage"
                            }
                        ]
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "310",
                "name": "Data Tag",
                "type": "cvt_MBTSV",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "add_data_layer",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "event_name_custom",
                        "value": "{{Event page_view Override}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "request_type",
                        "value": "auto"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "add_consent_state",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "dataLayerEventPush",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "richsstsse",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "data_tag_load_script_url",
                        "value": "https://stapecdn.com/dtag/v8.js"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "add_common_cookie",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "user_data",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "email_address"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers Email}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "phone_number"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers Phone Number}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "first_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers First Name}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "last_name"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers Last Name}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "city"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers City}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "postal_code"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers Postal Code}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "country"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers Country}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "user_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{dlv - user_id}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "street"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers Address}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "region"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Customers State}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "sha256hex"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "cookies"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "protocol_version",
                        "value": "2"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "event_type",
                        "value": "custom"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "gtm_server_domain",
                        "value": "https://messerattach.com/metrics"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "request_path",
                        "value": "/data"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "add_common",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useFetchInsteadOfXHR",
                        "value": "true"
                    },
                    {
                        "type": "LIST",
                        "key": "custom_data",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "transaction_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{dlv_transactionID}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{dlv_value}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{dlv_ecommerce_currency}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "event_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Unique Event ID}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{cjs - Items with Index}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fbp"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{1st Party Cookie - fbp}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fbc"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{1st Party Cookie - fbc}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "search_term"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{URL - Query - Search Term}}"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "transformation",
                                        "value": "none"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "store",
                                        "value": "none"
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "fingerprint": "1767093412367",
                "firingTriggerId": [
                    "307"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "322",
                "name": "Complianz.io - The Privacy Suite for WordPress",
                "type": "cvt_WF68Z",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "ads_data_redaction",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultConsentMarketing",
                        "value": "denied"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultConsentStatistics",
                        "value": "denied"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultConsentPreferences",
                        "value": "denied"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "url_passthrough",
                        "value": "true"
                    }
                ],
                "fingerprint": "1752038532543",
                "firingTriggerId": [
                    "2147479572"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "333",
                "name": "ms_uet_purchase",
                "type": "baut",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "c_navTimingApi",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{ms_ads}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentInheritGtm",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_storeConvTrackCookies",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_removeQueryFromUrls",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_disableAutoPageView",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enhancedConversion",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentUpdates",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "PAGE_LOAD"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enableAutoSpaTracking",
                        "value": "false"
                    }
                ],
                "fingerprint": "1748773032776",
                "firingTriggerId": [
                    "96"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NEEDED",
                    "consentType": {
                        "type": "LIST",
                        "list": [
                            {
                                "type": "TEMPLATE",
                                "value": "ad_storage"
                            }
                        ]
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "334",
                "name": "ms_uet_checkout",
                "type": "baut",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "c_navTimingApi",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{ms_ads}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentInheritGtm",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_storeConvTrackCookies",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_removeQueryFromUrls",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_disableAutoPageView",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enhancedConversion",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentUpdates",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "PAGE_LOAD"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enableAutoSpaTracking",
                        "value": "false"
                    }
                ],
                "fingerprint": "1760050241750",
                "firingTriggerId": [
                    "95"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "335",
                "name": "ms_uet_add_to_cart",
                "type": "baut",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "c_navTimingApi",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{ms_ads}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentInheritGtm",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_storeConvTrackCookies",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_removeQueryFromUrls",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_disableAutoPageView",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enhancedConversion",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_consentUpdates",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "PAGE_LOAD"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_enableAutoSpaTracking",
                        "value": "false"
                    }
                ],
                "fingerprint": "1755615899909",
                "firingTriggerId": [
                    "93"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "339",
                "name": "Helper - Push search Event",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script>\n  window.dataLayer.push({'event': 'search'});\n</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1755615912555",
                "firingTriggerId": [
                    "337"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "tagId": "351",
                "name": "Google Tag",
                "type": "googtag",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "GT-NS9Z5FWG"
                    },
                    {
                        "type": "LIST",
                        "key": "configSettingsTable",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "server_container_url"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "https://messerattach.com/metrics"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameter",
                                        "value": "url_passthrough"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "parameterValue",
                                        "value": "true"
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "fingerprint": "1755615884992",
                "firingTriggerId": [
                    "2147479573"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_NEEDED"
                }
            }
        ],
        "trigger": [
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "92",
                "name": "ce_view_item",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "view_item"
                            }
                        ]
                    }
                ],
                "fingerprint": "1744324590793"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "93",
                "name": "ce_add_to_cart",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "add_to_cart"
                            }
                        ]
                    }
                ],
                "fingerprint": "1744324551590"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "94",
                "name": "ce_view_cart",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "view_cart"
                            }
                        ]
                    }
                ],
                "fingerprint": "1744324563171"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "95",
                "name": "ce_checkout",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "begin_checkout"
                            }
                        ]
                    }
                ],
                "fingerprint": "1759549005619"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "96",
                "name": "ce_purchase",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "purchase"
                            }
                        ]
                    }
                ],
                "fingerprint": "1744324517526"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "97",
                "name": "Payment method added",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Credit card / debit card|PayPal"
                            }
                        ]
                    }
                ],
                "fingerprint": "1696937002464"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "98",
                "name": "Shipping info added",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click ID}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "billing_email"
                            }
                        ]
                    }
                ],
                "fingerprint": "1696873665042"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "99",
                "name": "ce_remove_from_cart",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "remove_from_cart"
                            }
                        ]
                    }
                ],
                "fingerprint": "1744324498378"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "100",
                "name": "Submit form",
                "type": "WINDOW_LOADED",
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{cjs - Contact Form}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Thanks for contacting us! We will be in touch with you shortly"
                            }
                        ]
                    }
                ],
                "fingerprint": "1715488388286"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "101",
                "name": "Phone call - Local",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "320-352-3477"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697040738425"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "142",
                "name": "Phone call - Nationwide",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "833-352-3477"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697040869433"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "147",
                "name": "FIND A DEALER",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "FIND A DEALER"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697044156320"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "148",
                "name": "CONTACT US",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "CONTACT US"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697044330484"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "163",
                "name": "PRIVACY POLICY",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "PRIVACY POLICY"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697045355637"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "164",
                "name": "WARRANTY",
                "type": "PAGEVIEW",
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "warranty"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697046277453"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "167",
                "name": "DOWNLOAD PRODUCT CATALOG",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "DOWNLOAD PRODUCT CATALOG"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697045846720"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "169",
                "name": "DOWNLOAD PARTS CATALOG",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "DOWNLOAD PARTS CATALOG"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697045995961"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "170",
                "name": "Site Search",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Classes}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "dgwt-wcas-search-input"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697046911849"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "171",
                "name": "Register",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Register"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697049235098"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "172",
                "name": "Log in",
                "type": "CLICK",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Click Text}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "Log in"
                            }
                        ]
                    }
                ],
                "fingerprint": "1697049282765"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "201",
                "name": "click",
                "type": "CLICK",
                "fingerprint": "1701220429886"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "205",
                "name": "scroll",
                "type": "SCROLL_DEPTH",
                "fingerprint": "1701222638565",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "verticalThresholdUnits",
                        "value": "PERCENT"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "verticalThresholdsPercent",
                        "value": "25, 50, 75, 100"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "verticalThresholdOn",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "triggerStartOption",
                        "value": "WINDOW_LOAD"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "horizontalThresholdOn",
                        "value": "false"
                    }
                ]
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "213",
                "name": "Initialization",
                "type": "INIT",
                "fingerprint": "1744697381821"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "307",
                "name": "ce_ecom",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "^(add_payment_info|add_to_cart|begin_checkout|find_location|generate_lead|login|page_view|purchase|refund|search|share|sign_up|view_cart|view_item|view_item_list|view_search_results)$"
                            }
                        ]
                    }
                ],
                "fingerprint": "1767094155379"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "313",
                "name": "Trigger - Ecom Core Events",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "^(page_view|view_cart|add_payment_info|add_to_cart|begin_checkout|find_location|generate_lead|login|purchase|refund|search|share|sign_up|view_item|view_item_list|view_search_results)$"
                            }
                        ]
                    }
                ],
                "fingerprint": "1760029241298"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "324",
                "name": "cmplz_event_marketing",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "cmplz_event_marketing"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "cmplz_event_marketing"
                            }
                        ]
                    }
                ],
                "fingerprint": "1748622130507"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "325",
                "name": "cmplz_event_statistics",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "cmplz_event_statistics"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "cmplz_event_statistics"
                            }
                        ]
                    }
                ],
                "fingerprint": "1748764250788"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "326",
                "name": "TRG - wGTM - gtag.consent.update",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtag.consent.update"
                            }
                        ]
                    }
                ],
                "fingerprint": "1748759631315"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "328",
                "name": "cmplz_event_preferences",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "cmplz_event_preferences"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "cmplz_event_preferences"
                            }
                        ]
                    }
                ],
                "fingerprint": "1748764230352"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "330",
                "name": "CM - All Consent Granted - Page View",
                "type": "PAGEVIEW",
                "fingerprint": "1760015861028"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "331",
                "name": "ce_ site_search",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "site_search"
                            }
                        ]
                    }
                ],
                "fingerprint": "1748773094892"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "337",
                "name": "Page View - Search Results",
                "type": "DOM_READY",
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "\\?s=.+"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "ignore_case",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1749248357601"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "triggerId": "340",
                "name": "Event - search",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "search"
                            }
                        ]
                    }
                ],
                "fingerprint": "1749248751274"
            }
        ],
        "variable": [
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "22",
                "name": "1st Party Cookie - fbc",
                "type": "k",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "decodeCookie",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "_fbc"
                    }
                ],
                "fingerprint": "1745700222262",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "81",
                "name": "Facebook Pixel",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "3695834564032094"
                    }
                ],
                "fingerprint": "1696871788708",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "83",
                "name": "dlv_ecommerce_currency",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.currency"
                    }
                ],
                "fingerprint": "1744124511156",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "84",
                "name": "dlv - Item ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.id"
                    }
                ],
                "fingerprint": "1744103596624",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "85",
                "name": "dlv - Item Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.name"
                    }
                ],
                "fingerprint": "1744103596625",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "86",
                "name": "dlv - Item Price",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.price"
                    }
                ],
                "fingerprint": "1744103596652",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "87",
                "name": "dlv_ecommerce_items",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.items"
                    }
                ],
                "fingerprint": "1744124490607",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "88",
                "name": "dlv_value",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.value"
                    }
                ],
                "fingerprint": "1744103596653",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "89",
                "name": "dlv_transactionID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.transaction_id"
                    }
                ],
                "fingerprint": "1744103596653",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "90",
                "name": "cjs - Items ID",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  var items = {{dlv_ecommerce_items}};\n  if (!Array.isArray(items) || !items.length) return [];\n  var out = [], seen = {};\n  for (var i = 0; i < items.length; i++) {\n    var v = items[i] && (items[i].item_id || items[i].id);\n    if (typeof v === 'string' && v && !seen[v]) {\n      seen[v] = 1;\n      out.push(v);\n    }\n  }\n  return out;\n}\n"
                    }
                ],
                "fingerprint": "1760016358689",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "91",
                "name": "cjs - Items Name",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  var items = {{dlv_ecommerce_items}};\n  if (!Array.isArray(items) || !items.length) return [];\n  var out = [], seen = {};\n  for (var i = 0; i < items.length; i++) {\n    var v = items[i] && (items[i].item_name || items[i].name);\n    if (typeof v === 'string' && v && !seen[v]) {\n      seen[v] = 1;\n      out.push(v);\n    }\n  }\n  return out;\n}\n"
                    }
                ],
                "fingerprint": "1760016367393",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "103",
                "name": "Customers First Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_first_name"
                    }
                ],
                "fingerprint": "1760097310117",
                "parentFolderId": "301",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "{{d2 user_data.first_name}}"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "{{d2 user_data.first_name}}"
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "104",
                "name": "Customers Last Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_last_name"
                    }
                ],
                "fingerprint": "1760097288247",
                "parentFolderId": "301",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "{{D2 user_data.last_name}}"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "{{D2 user_data.last_name}}"
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "105",
                "name": "Customers Address",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_address"
                    }
                ],
                "fingerprint": "1760097375723",
                "parentFolderId": "301",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "{{d2 user_data.address}}"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "{{d2 user_data.address}}"
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "106",
                "name": "Customers City",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_city"
                    }
                ],
                "fingerprint": "1760089652570",
                "parentFolderId": "301",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "{{d2 user_data.city}}"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "{{d2 user_data.city}}"
                    }
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "107",
                "name": "Customers Postal Code",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_postcode"
                    }
                ],
                "fingerprint": "1745517854722",
                "parentFolderId": "301",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "108",
                "name": "Customers Country",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_country"
                    }
                ],
                "fingerprint": "1745517937224",
                "parentFolderId": "301",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "109",
                "name": "Customers Phone Number",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.phone_number"
                    }
                ],
                "fingerprint": "1745516495424",
                "parentFolderId": "301",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "110",
                "name": "Customers Email",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_email"
                    }
                ],
                "fingerprint": "1745515934765",
                "parentFolderId": "301",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "111",
                "name": "dlv_coupon",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.coupon"
                    }
                ],
                "fingerprint": "1744103675187",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "135",
                "name": "User-Provided Data",
                "type": "awec",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "mode",
                        "value": "MANUAL"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "country",
                        "value": "{{Customers Country}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "city",
                        "value": "{{Customers City}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "street",
                        "value": "{{Customers Address}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "last_name",
                        "value": "{{Customers Last Name}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "phone_number",
                        "value": "{{Customers Phone Number}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "region",
                        "value": "{{Customers Country}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "postal_code",
                        "value": "{{Customers Postal Code}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "first_name",
                        "value": "{{Customers First Name}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "email",
                        "value": "{{Customers Email}}"
                    }
                ],
                "fingerprint": "1744632306651",
                "parentFolderId": "301",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "207",
                "name": "dlv_shipping",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.shipping"
                    }
                ],
                "fingerprint": "1744103596655",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "208",
                "name": "dlv_affiliation",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.affiliation"
                    }
                ],
                "fingerprint": "1744103639036",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "209",
                "name": "dlv_tax",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.tax"
                    }
                ],
                "fingerprint": "1744103596655",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "210",
                "name": "Event Time",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  return Math.floor(Date.now() / 1000); // Unix-epoch seconds (UTC)\n}\n"
                    }
                ],
                "fingerprint": "1750111620179",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "261",
                "name": "cjs - Contact Form",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\nreturn document.querySelector(\"#wpforms-confirmation-14 > p\").innerText;\n}"
                    }
                ],
                "fingerprint": "1749455716815",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "269",
                "name": "dlv_pagePostType",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "pagePostType"
                    }
                ],
                "fingerprint": "1744103596655",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "273",
                "name": "customerTotalOrder",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerTotalOrderValue"
                    }
                ],
                "fingerprint": "1744163746540",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "274",
                "name": "dlv_ecommerce_category",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.items[0].item_category"
                    }
                ],
                "fingerprint": "1744103596656",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "275",
                "name": "dev_cartContent.items.length",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "cartContent.items.length"
                    }
                ],
                "fingerprint": "1744103596656",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "276",
                "name": "dlv_ecommerce_products",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.products"
                    }
                ],
                "fingerprint": "1744103596656",
                "parentFolderId": "302",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "297",
                "name": "External ID",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  /* ---------- UUID v4 (RFC 4122) ---------- */\n  function uuid() {\n    var d  = new Date().getTime();\n    var d2 = (window.performance && window.performance.now\n              ? window.performance.now() * 1000\n              : 0);\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n      if (d > 0) { r = (d + r) % 16 | 0; d = Math.floor(d / 16); }\n      else       { r = (d2 + r) % 16 | 0; d2 = Math.floor(d2 / 16); }\n      return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n  }\n\n  /* ---------- simple cookie helpers ---------- */\n  function setCookie(k, v, days) {\n    var expires = '';\n    if (days) {\n      var t = new Date();\n      t.setTime(t.getTime() + days * 864e5);\n      expires = '; expires=' + t.toUTCString();\n    }\n    document.cookie = k + '=' + encodeURIComponent(v) + expires + '; path=/';\n  }\n  function getCookie(k) {\n    var nameEQ = k + '=';\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') c = c.substring(1);\n      if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length));\n    }\n    return '';\n  }\n\n  /* ---------- query-string parser (ES5) ---------- */\n  function getQueryParam(q) {\n    var qs = window.location.search.substring(1).split('&');\n    for (var i = 0; i < qs.length; i++) {\n      var pair = qs[i].split('=');\n      if (decodeURIComponent(pair[0]) === q) {\n        return decodeURIComponent(pair[1] || '');\n      }\n    }\n    return '';\n  }\n\n  /* ---------- main logic ---------- */\n  var fromUrl    = getQueryParam('external_id');\n  var fromCookie = getCookie('external_id');\n\n  if (fromUrl) {\n    setCookie('external_id', fromUrl, 365);\n    return fromUrl;\n  }\n  if (fromCookie) {\n    return fromCookie;\n  }\n\n  var id = uuid();\n  setCookie('external_id', id, 365);\n  return id;\n}\n"
                    }
                ],
                "fingerprint": "1750109714775",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "298",
                "name": "GA4 - ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "G-YCL5FGZNCV"
                    }
                ],
                "fingerprint": "1733399104113",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "303",
                "name": "dlv - user_id",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_id"
                    }
                ],
                "fingerprint": "1767881226063",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "311",
                "name": "DLV - _fbp",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "_fbp"
                    }
                ],
                "fingerprint": "1745640645269",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "312",
                "name": "1st Party Cookie - fbp",
                "type": "k",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "decodeCookie",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "_fbp"
                    }
                ],
                "fingerprint": "1745700148679",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "315",
                "name": "sgtm.messerattach URL",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "https://sgtm.messerattach.com"
                    }
                ],
                "fingerprint": "1751729128688",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "316",
                "name": "Customers State",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.billing_state"
                    }
                ],
                "fingerprint": "1747875868349",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "317",
                "name": "cjs - Items with Index",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  var items = {{dlv_ecommerce_items}};\n  if (!Array.isArray(items) || !items.length) return [];\n  var out = [];\n  for (var i = 0; i < items.length; i++) {\n    var itm = items[i];\n    if (!itm || typeof itm !== 'object') continue;\n    var c = {};\n    for (var k in itm) if (Object.prototype.hasOwnProperty.call(itm, k)) c[k] = itm[k];\n    if (typeof c.index !== 'number' || !isFinite(c.index)) c.index = i + 1;\n    out.push(c);\n  }\n  return out;\n}\n"
                    }
                ],
                "fingerprint": "1760015354352",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "332",
                "name": "ms_ads",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "343101821"
                    }
                ],
                "fingerprint": "1748770747375",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "336",
                "name": "Event page_view Override",
                "type": "smm",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "input",
                        "value": "{{Event}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultValue",
                        "value": "{{Event}}"
                    },
                    {
                        "type": "LIST",
                        "key": "map",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "key",
                                        "value": "gtm.dom"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "page_view"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "key",
                                        "value": "gtm.historyChange"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "page_view"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "key",
                                        "value": "gtm.scrollDepth"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "scroll"
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "fingerprint": "1749247830227",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "338",
                "name": "URL - Query - Search Term",
                "type": "u",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "component",
                        "value": "QUERY"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "queryKey",
                        "value": "s"
                    }
                ],
                "fingerprint": "1749248606502",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "341",
                "name": "URL - Query - msclkid",
                "type": "u",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "component",
                        "value": "QUERY"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "queryKey",
                        "value": "msclkid"
                    }
                ],
                "fingerprint": "1749261798161",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "343",
                "name": "cjs - Items SKU",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  var items = {{dlv_ecommerce_items}};\n  if (!Array.isArray(items) || !items.length) return [];\n  var out = [], seen = {};\n  for (var i = 0; i < items.length; i++) {\n    var v = items[i] && (items[i].item_sku || items[i].sku);\n    if (typeof v === 'string' && v && !seen[v]) {\n      seen[v] = 1;\n      out.push(v);\n    }\n  }\n  return out;\n}\n"
                    }
                ],
                "fingerprint": "1760016375410",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "344",
                "name": "cjs - Items JSON",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  var items = {{dlv_ecommerce_items}};\n  if (!Array.isArray(items) || !items.length) return '[]';\n  try { return JSON.stringify(items); } catch (e) { return '[]'; }\n}\n"
                    }
                ],
                "fingerprint": "1760015388969",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "347",
                "name": "Debug Mode",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "true"
                    }
                ],
                "fingerprint": "1750111823843",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "350",
                "name": "Unique Event ID",
                "type": "cvt_M63B8",
                "fingerprint": "1752837175261",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "494",
                "name": "d2 user_data.email",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.email"
                    }
                ],
                "fingerprint": "1760088935536",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "495",
                "name": "d2 user_data.phone",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.phone"
                    }
                ],
                "fingerprint": "1760089051701",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "496",
                "name": "d2 user_data.postalcode",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.postalcode"
                    }
                ],
                "fingerprint": "1760089116567",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "497",
                "name": "D2 user_data.last_name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.last_name"
                    }
                ],
                "fingerprint": "1760089159478",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "498",
                "name": "d2 user_data.first_name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.first_name"
                    }
                ],
                "fingerprint": "1760089262477",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "499",
                "name": "d2 user_data.country",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.country"
                    }
                ],
                "fingerprint": "1760098056307",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "500",
                "name": "d2 user_data.state",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.state"
                    }
                ],
                "fingerprint": "1760089505163",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "501",
                "name": "d2 user_data.city",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.city"
                    }
                ],
                "fingerprint": "1760089526542",
                "formatValue": {}
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "variableId": "502",
                "name": "d2 user_data.address",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "user_data.address"
                    }
                ],
                "fingerprint": "1760089558200",
                "formatValue": {}
            }
        ],
        "folder": [
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "folderId": "301",
                "name": "User",
                "fingerprint": "1744103448711"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "folderId": "302",
                "name": "E-commerce",
                "fingerprint": "1744103543351"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "folderId": "309",
                "name": "Google Ads",
                "fingerprint": "1744412582171"
            }
        ],
        "builtInVariable": [
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "PAGE_URL",
                "name": "Page URL"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "PAGE_HOSTNAME",
                "name": "Page Hostname"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "PAGE_PATH",
                "name": "Page Path"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "REFERRER",
                "name": "Referrer"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "EVENT",
                "name": "Event"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CLICK_ELEMENT",
                "name": "Click Element"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CLICK_CLASSES",
                "name": "Click Classes"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CLICK_ID",
                "name": "Click ID"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CLICK_TARGET",
                "name": "Click Target"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CLICK_URL",
                "name": "Click URL"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CLICK_TEXT",
                "name": "Click Text"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "FORM_ELEMENT",
                "name": "Form Element"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "FORM_CLASSES",
                "name": "Form Classes"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "FORM_ID",
                "name": "Form ID"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "FORM_TARGET",
                "name": "Form Target"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "FORM_URL",
                "name": "Form URL"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "FORM_TEXT",
                "name": "Form Text"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CONTAINER_VERSION",
                "name": "Container Version"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "RANDOM_NUMBER",
                "name": "Random Number"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "CONTAINER_ID",
                "name": "Container ID"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "HTML_ID",
                "name": "HTML ID"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "ENVIRONMENT_NAME",
                "name": "Environment Name"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_PROVIDER",
                "name": "Video Provider"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_URL",
                "name": "Video URL"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_TITLE",
                "name": "Video Title"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_DURATION",
                "name": "Video Duration"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_PERCENT",
                "name": "Video Percent"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_VISIBLE",
                "name": "Video Visible"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_STATUS",
                "name": "Video Status"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "VIDEO_CURRENT_TIME",
                "name": "Video Current Time"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "SCROLL_DEPTH_THRESHOLD",
                "name": "Scroll Depth Threshold"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "SCROLL_DEPTH_UNITS",
                "name": "Scroll Depth Units"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "SCROLL_DEPTH_DIRECTION",
                "name": "Scroll Direction"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "ELEMENT_VISIBILITY_RATIO",
                "name": "Percent Visible"
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "type": "ELEMENT_VISIBILITY_TIME",
                "name": "On-Screen Duration"
            }
        ],
        "fingerprint": "1767882903750",
        "tagManagerUrl": "https://tagmanager.google.com/#/versions/accounts/6134998071/containers/134846891/versions/0?apiLink=version",
        "customTemplate": [
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "templateId": "7",
                "name": "Facebook Pixel",
                "fingerprint": "1690184881470",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"displayName\": \"Facebook Pixel\",\n  \"__wm\": \"VGVtcGxhdGUtQXV0aG9yX0ZhY2Vib29rLVNpbW8tQWhhdmE\\u003d\",\n  \"description\": \"This is an unofficial Google Tag Manager template for the Facebook Pixel.\",\n  \"securityGroups\": [],\n  \"categories\": [\n    \"ADVERTISING\",\n    \"ANALYTICS\"\n  ],\n  \"id\": \"cvt_temp_public_id\",\n  \"type\": \"TAG\",\n  \"version\": 1,\n  \"brand\": {\n    \"displayName\": \"facebookarchive\",\n    \"id\": \"github.com_facebookarchive\",\n    \"thumbnail\": \"data:image/png;base64,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\"\n  },\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"alwaysInSummary\": true,\n    \"valueValidators\": [\n      {\n        \"errorMessage\": \"You must provide a Pixel ID\",\n        \"type\": \"NON_EMPTY\"\n      },\n      {\n        \"args\": [\n          \"^[0-9,]+$\"\n        ],\n        \"errorMessage\": \"Invalid Pixel ID format\",\n        \"type\": \"REGEX\"\n      }\n    ],\n    \"displayName\": \"Facebook Pixel ID(s)\",\n    \"simpleValueType\": true,\n    \"name\": \"pixelId\",\n    \"type\": \"TEXT\",\n    \"valueHint\": \"e.g. 12345678910\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"enhancedEcommerce\",\n    \"checkboxText\": \"Enhanced Ecommerce dataLayer Integration\",\n    \"simpleValueType\": true,\n    \"help\": \"If you check this, then the Facebook pixel will populate \\u003cstrong\\u003eEvent Name\\u003c/strong\\u003e and \\u003cstrong\\u003eObject Properties\\u003c/strong\\u003e automatically from the last \\u003ca href\\u003d\\\"https://developers.google.com/tag-manager/enhanced-ecommerce\\\"\\u003eecommerce\\u003c/a\\u003e object pushed into the dataLayer array.\"\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eventName\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"standard\",\n        \"displayValue\": \"Standard\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"standardEventName\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"displayValue\": \"PageView\",\n                \"value\": \"PageView\"\n              },\n              {\n                \"displayValue\": \"AddPaymentInfo\",\n                \"value\": \"AddPaymentInfo\"\n              },\n              {\n                \"displayValue\": \"AddToCart\",\n                \"value\": \"AddToCart\"\n              },\n              {\n                \"displayValue\": \"AddToWishlist\",\n                \"value\": \"AddToWishlist\"\n              },\n              {\n                \"displayValue\": \"CompleteRegistration\",\n                \"value\": \"CompleteRegistration\"\n              },\n              {\n                \"displayValue\": \"Contact\",\n                \"value\": \"Contact\"\n              },\n              {\n                \"displayValue\": \"CustomizeProduct\",\n                \"value\": \"CustomizeProduct\"\n              },\n              {\n                \"displayValue\": \"Donate\",\n                \"value\": \"Donate\"\n              },\n              {\n                \"displayValue\": \"FindLocation\",\n                \"value\": \"FindLocation\"\n              },\n              {\n                \"displayValue\": \"InitiateCheckout\",\n                \"value\": \"InitiateCheckout\"\n              },\n              {\n                \"displayValue\": \"Lead\",\n                \"value\": \"Lead\"\n              },\n              {\n                \"displayValue\": \"Purchase\",\n                \"value\": \"Purchase\"\n              },\n              {\n                \"displayValue\": \"Schedule\",\n                \"value\": \"Schedule\"\n              },\n              {\n                \"displayValue\": \"Search\",\n                \"value\": \"Search\"\n              },\n              {\n                \"displayValue\": \"StartTrial\",\n                \"value\": \"StartTrial\"\n              },\n              {\n                \"displayValue\": \"SubmitApplication\",\n                \"value\": \"SubmitApplication\"\n              },\n              {\n                \"displayValue\": \"Subscribe\",\n                \"value\": \"Subscribe\"\n              },\n              {\n                \"displayValue\": \"ViewContent\",\n                \"value\": \"ViewContent\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"defaultValue\": \"PageView\"\n          }\n        ]\n      },\n      {\n        \"value\": \"custom\",\n        \"displayValue\": \"Custom\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"customEventName\",\n            \"displayName\": \"\",\n            \"simpleValueType\": true\n          }\n        ]\n      },\n      {\n        \"value\": \"variable\",\n        \"displayValue\": \"Variable\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"variableEventName\",\n            \"macrosInSelect\": true,\n            \"selectItems\": [],\n            \"simpleValueType\": true\n          }\n        ]\n      }\n    ],\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"enhancedEcommerce\",\n        \"paramValue\": true,\n        \"type\": \"NOT_EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eecEventName\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"eec\",\n        \"displayValue\": \"Set automatically from dataLayer\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"help\": \"The Enhanced Ecommerce integration populates the Event Name automatically depending on what type of \\u003cstrong\\u003eecommerce\\u003c/strong\\u003e object was last pushed into dataLayer (\\\"detail\\\" -\\u003e \\\"ViewContent\\\", \\\"add\\\" -\\u003e \\\"AddToCart\\\", \\\"checkout\\\" -\\u003e \\\"InitiateCheckout\\\", \\\"purchase\\\" -\\u003e \\\"Purchase\\\").\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"enhancedEcommerce\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"SELECT\",\n    \"name\": \"consent\",\n    \"displayName\": \"Consent Granted (GDPR)\",\n    \"macrosInSelect\": true,\n    \"selectItems\": [\n      {\n        \"value\": true,\n        \"displayValue\": \"True\"\n      },\n      {\n        \"value\": false,\n        \"displayValue\": \"False\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"help\": \"If you set Consent Granted to \\u003cstrong\\u003efalse\\u003c/strong\\u003e, the pixel will not send any hits until a tag is fired where Consent Granted is set to \\u003cstrong\\u003etrue\\u003c/strong\\u003e. See \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/facebook-pixel/implementation/gdpr/\\\"\\u003ethis article\\u003c/a\\u003e for more information.\"\n  },\n  {\n    \"simpleValueType\": true,\n    \"name\": \"advancedMatching\",\n    \"checkboxText\": \"Enable Advanced Matching\",\n    \"type\": \"CHECKBOX\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"dataProcessingOptionsGroup\",\n    \"displayName\": \"Data Processing Options\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"LABEL\",\n        \"name\": \"dpoInfo\",\n        \"displayName\": \"Data Processing Options force this Facebook event to comply to regional regulations with regard to the processing and selling of user data. Read \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-apis/data-processing-options\\\"\\u003ethis\\u003c/a\\u003e for more information about how to configure this section.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"dpoLDU\",\n        \"checkboxText\": \"Limited Data Use (LDU)\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dpoCountry\",\n        \"displayName\": \"Country\",\n        \"simpleValueType\": true,\n        \"defaultValue\": 0,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dpoLDU\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NUMBER\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dpoState\",\n        \"displayName\": \"State\",\n        \"simpleValueType\": true,\n        \"defaultValue\": 0,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dpoLDU\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NUMBER\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"advancedMatching\",\n        \"type\": \"EQUALS\",\n        \"paramValue\": true\n      }\n    ],\n    \"displayName\": \"Customer Information Data Parameters\",\n    \"name\": \"advancedMatchingGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"displayName\": \"\",\n        \"name\": \"advancedMatchingList\",\n        \"simpleTableColumns\": [\n          {\n            \"selectItems\": [\n              {\n                \"displayValue\": \"City\",\n                \"value\": \"ct\"\n              },\n              {\n                \"displayValue\": \"Country\",\n                \"value\": \"cn\"\n              },\n              {\n                \"displayValue\": \"Date of Birth\",\n                \"value\": \"db\"\n              },\n              {\n                \"displayValue\": \"Email\",\n                \"value\": \"em\"\n              },\n              {\n                \"displayValue\": \"External ID\",\n                \"value\": \"external_id\"\n              },\n              {\n                \"displayValue\": \"First Name\",\n                \"value\": \"fn\"\n              },\n              {\n                \"displayValue\": \"Gender\",\n                \"value\": \"ge\"\n              },\n              {\n                \"displayValue\": \"Last Name\",\n                \"value\": \"ln\"\n              },\n              {\n                \"displayValue\": \"Phone\",\n                \"value\": \"ph\"\n              },\n              {\n                \"displayValue\": \"State\",\n                \"value\": \"st\"\n              },\n              {\n                \"displayValue\": \"Zip Code\",\n                \"value\": \"zp\"\n              }\n            ],\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add parameter\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"displayName\": \"Object Properties\",\n    \"name\": \"objectPropertiesGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"LABEL\",\n        \"name\": \"enhancedEcommerceObject\",\n        \"displayName\": \"\\u003cstrong\\u003eWarning!\\u003c/strong\\u003e Object properties are populated automatically based on the most recent \\u003cstrong\\u003eecommerce\\u003c/strong\\u003e object pushed into dataLayer. If you add properties here that are already set by the integration (content_type, contents, num_items, value, currency), then the properties you add here will override those set automatically by the integration!\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"enhancedEcommerce\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"objectPropertiesFromVariable\",\n        \"displayName\": \"Load Properties From Variable\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": false,\n            \"displayValue\": \"False\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"You can use a variable that returns a JavaScript object with the properties you want to use. This object will be merged with any additional properties you add via the table below. Any conflicts will be resolved in favor of the properties you add to the table.\"\n      },\n      {\n        \"name\": \"objectPropertyList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [],\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"TEXT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"More Settings\",\n    \"name\": \"moreSettingsGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"help\": \"Facebook collects some metadata (e.g. structured data) and user interactions (e.g. clicks) automatically. Check this box to disable this automatic configuration of the pixel.\",\n        \"simpleValueType\": true,\n        \"name\": \"disableAutoConfig\",\n        \"checkboxText\": \"Disable Automatic Configuration\",\n        \"type\": \"CHECKBOX\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"disablePushState\",\n        \"checkboxText\": \"Disable History Event Tracking\",\n        \"simpleValueType\": true,\n        \"help\": \"The Facebook Pixel tracks history events (pushState and replaceState) automatically as PageViews. Check this box to prevent the pixel from tracking such events automatically.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"eventId\",\n        \"displayName\": \"Event ID\",\n        \"simpleValueType\": true,\n        \"help\": \"Set the Event ID parameter in case you are tracking the same event server-side as well. The Event ID can be used to deduplicate the same event if sent from multiple sources. See more \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-api/conversions-api/deduplicate-pixel-and-server-events/\\\"\\u003ehere\\u003c/a\\u003e.\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst createQueue = require('createQueue');\nconst callInWindow = require('callInWindow');\nconst aliasInWindow = require('aliasInWindow');\nconst copyFromWindow = require('copyFromWindow');\nconst setInWindow = require('setInWindow');\nconst injectScript = require('injectScript');\nconst makeTableMap = require('makeTableMap');\nconst makeNumber = require('makeNumber');\nconst getType = require('getType');\nconst copyFromDataLayer = require('copyFromDataLayer');\nconst math = require('Math');\nconst log = require('logToConsole');\n\nconst initIds = copyFromWindow('_fbq_gtm_ids') || [];\nconst pixelIds = data.pixelId;\nconst standardEventNames = ['AddPaymentInfo', 'AddToCart', 'AddToWishlist', 'CompleteRegistration', 'Contact', 'CustomizeProduct', 'Donate', 'FindLocation', 'InitiateCheckout', 'Lead', 'PageView', 'Purchase', 'Schedule', 'Search', 'StartTrial', 'SubmitApplication', 'Subscribe', 'ViewContent'];\nconst ecommerce = copyFromDataLayer('ecommerce', 1);\n\n// Helper methods\nconst fail = msg => {\n  log(msg);\n  data.gtmOnFailure();\n};\n\nconst mergeObj = (obj, obj2) => {\n  for (let key in obj2) {\n    if (obj2.hasOwnProperty(key)) {\n      obj[key] = obj2[key];\n    }\n  }\n  return obj;\n};\n\nconst parseEecObj = prod => {\n  return {\n    id: prod.id,\n    quantity: prod.quantity\n  };\n};\n\n// Initialize EEC integration\nlet eventName, action, eecObjectProps;\nif (data.enhancedEcommerce) {\n  if (!ecommerce) return fail('Facebook Pixel: No valid \"ecommerce\" object found in dataLayer');\n  if (ecommerce.detail) { eventName = 'ViewContent'; action = 'detail'; }\n  else if (ecommerce.add) { eventName = 'AddToCart'; action = 'add'; }\n  else if (ecommerce.checkout) { eventName = 'InitiateCheckout'; action = 'checkout'; }\n  else if (ecommerce.purchase) { eventName = 'Purchase'; action = 'purchase'; }\n  else return fail('Facebook Pixel: Most recently pushed \"ecommerce\" object must be one of types \"detail\", \"add\", \"checkout\" or \"purchase\".');\n  \n  if (!ecommerce[action].products || getType(ecommerce[action].products) !== 'array') return fail('Facebook pixel: Most recently pushed \"ecommerce\" object did not have a valid \"products\" array.');\n  eecObjectProps = {\n    content_type: 'product',\n    contents: ecommerce[action].products.map(parseEecObj),\n    value: ecommerce[action].products.reduce((acc, cur) => {\n      const curVal = math.round(makeNumber(cur.price || 0) * (cur.quantity || 1) * 100) / 100;\n      return acc + curVal;\n    }, 0.0),\n    currency: ecommerce.currencyCode || 'USD'\n  };\n  if (['InitiateCheckout', 'Purchase'].indexOf(eventName) > -1) eecObjectProps.num_items = ecommerce[action].products.reduce((acc,cur) => {\n    return acc + makeNumber(cur.quantity || 1);\n  }, 0);\n}\n\n// Build the fbq() command arguments\nconst cidParams = data.advancedMatchingList && data.advancedMatchingList.length ? makeTableMap(data.advancedMatchingList, 'name', 'value') : {};\nconst objectProps = data.objectPropertyList && data.objectPropertyList.length ? makeTableMap(data.objectPropertyList, 'name', 'value') : {};\nconst objectPropsFromVar = getType(data.objectPropertiesFromVariable) === 'object' ? data.objectPropertiesFromVariable : {};\nconst mergedObjectProps = mergeObj(objectPropsFromVar, objectProps);\nconst finalObjectProps = mergeObj(eecObjectProps || {}, mergedObjectProps);\neventName = eventName || (data.eventName === 'custom' ? data.customEventName : (data.eventName === 'variable' ? data.variableEventName : data.standardEventName));\n\nconst command = standardEventNames.indexOf(eventName) === -1 ? 'trackSingleCustom' : 'trackSingle';\nconst consent = data.consent === false ? 'revoke' : 'grant';\n\n// Utility function to use either fbq.queue[]\n// (if the FB SDK hasn't loaded yet), or fbq.callMethod()\n// if the SDK has loaded.\nconst getFbq = () => {\n  // Return the existing 'fbq' global method if available\n  let fbq = copyFromWindow('fbq');\n  if (fbq) {\n    return fbq;\n  }\n  \n  // Initialize the 'fbq' global method to either use\n  // fbq.callMethod or fbq.queue)\n  setInWindow('fbq', function() {    \n    const callMethod = copyFromWindow('fbq.callMethod.apply');\n    if (callMethod) {           \n      callInWindow('fbq.callMethod.apply', null, arguments); \n    } else {       \n      callInWindow('fbq.queue.push', arguments);\n    }\n  });\n  aliasInWindow('_fbq', 'fbq');\n  \n  // Create the fbq.queue\n  createQueue('fbq.queue');\n    \n  // Return the global 'fbq' method, created above\n  return copyFromWindow('fbq');\n};\n\n// Get reference to the global method\nconst fbq = getFbq();\n\nfbq('consent', consent);\n\n // Set Data Processing Options\nif (data.dpoLDU) {\n  fbq('dataProcessingOptions', ['LDU'], makeNumber(data.dpoCountry), makeNumber(data.dpoState));\n}\n\n// Handle multiple, comma-separated pixel IDs,\n// and initialize each ID if not done already.\npixelIds.split(',').forEach(pixelId => {\n  if (initIds.indexOf(pixelId) === -1) {\n    \n    // If the user has chosen to disable automatic configuration\n    if (data.disableAutoConfig) {\n      fbq('set', 'autoConfig', false, pixelId);\n    }\n    \n    // If the user has chosen to disable pushState and replaceState tracking\n    if (data.disablePushState) {\n      setInWindow('fbq.disablePushState', true);\n    }\n   \t\n    \n    // Initialize pixel and store in global array\n    fbq('init', pixelId, cidParams);\n\n    // Monitoring agent string for Tag Setup\n    fbq('set','agent','tmSimo-GTM-WebTemplate', pixelId);\n\n    initIds.push(pixelId);\n    setInWindow('_fbq_gtm_ids', initIds, true);\n    \n  }\n\n  // Call the fbq() method with the parameters defined earlier\n  if (data.eventId) {\n    fbq(command, pixelId, eventName, finalObjectProps, {eventID: data.eventId});\n  } else {\n    fbq(command, pixelId, eventName, finalObjectProps);\n  }\n});\n\ninjectScript('https://connect.facebook.net/en_US/fbevents.js', data.gtmOnSuccess, data.gtmOnFailure, 'fbPixel');\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq_gtm\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq_gtm_ids\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.callMethod.apply\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue.push\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.disablePushState\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"inject_script\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://connect.facebook.net/en_US/fbevents.js\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"ecommerce\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Library is injected\n  code: |-\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('injectScript').wasCalledWith(scriptUrl, success, failure, 'fbPixel');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: fbq does not exist - method created\n  code: |-\n    let fbq;\n\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return fbq;\n    });\n\n    mock('createQueue', key => {});\n\n    mock('setInWindow', (key, val) => {\n      if (key === 'fbq') fbq = val;\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('aliasInWindow').wasCalledWith('_fbq', 'fbq');\n    assertApi('setInWindow').wasCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: fbq exists - method copied\n  code: |-\n    mock('setInWindow', key => {\n      if (key === 'fbq') fail('setInWindow called with fbq even though variable exists');\n    });\n\n    mock('createQueue', key => {});\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: makeTableMap called\n  code: |-\n    mockData.advancedMatching = true;\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('makeTableMap').wasCalledWith(mockData.advancedMatchingList, 'name', 'value');\n    assertApi('makeTableMap').wasCalledWith(mockData.objectPropertyList, 'name', 'value');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Consent set\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: DPO LDU set\n  code: |-\n    mockData.dpoLDU = true;\n    mockData.dpoCountry = '0';\n    mockData.dpoState = '0';\n\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n        if (arguments[0] === 'dataProcessingOptions') {\n          assertThat(arguments[1], 'LDU array value not set').isEqualTo(['LDU']);\n          assertThat(arguments[2], 'LDU country not set').isEqualTo(0);\n          assertThat(arguments[3], 'LDU state not set').isEqualTo(0);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: DPO LDU not set\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n        if (arguments[0] === 'dataProcessingOptions') {\n          fail('dataProcessingOptions called even though DPO was not set');\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Pixel IDs set - do not initialize\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === '_fbq_gtm_ids') return ['12345', '23456'];\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'init') fail('init called even though pixel IDs already initialized');\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Pixel IDs not set - run init process\n  code: \"let index = 0;\\nlet count = 0;\\nlet _fbq_gtm_ids;\\n\\nmockData.advancedMatching\\\n    \\ = true;\\nmockData.disableAutoConfig = true;\\nmockData.disablePushState = true;\\n\\\n    \\nmock('setInWindow', (key, val) => {\\n  if (key === 'fbq.disablePushState') count\\\n    \\ += 1;\\n  if (key === '_fbq_gtm_ids') _fbq_gtm_ids = val;\\n});\\n\\nconst initObj\\\n    \\ = {\\n  ct: 'Helsinki',\\n  cn: 'Finland',\\n  external_id: 'UserId'\\n};\\n\\nmock('copyFromWindow',\\\n    \\ key => {\\n  if (key === 'fbq') return function() {\\n    if (arguments[0] ===\\\n    \\ 'set' && arguments[1] === 'autoConfig' && arguments[2] === false) {\\n      assertThat(arguments[3],\\\n    \\ 'autoConfig called with incorrect pixelId').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\    }\\n    if (arguments[0] === 'set' && arguments[1] === 'agent') {\\n      assertThat(arguments[2],\\\n    \\ 'agent set with invalid value').isEqualTo('tmSimo-GTM-WebTemplate');\\n     \\\n    \\ assertThat(arguments[3], 'agent set with invalid pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      index += 1;\\n    }\\n    if (arguments[0] === 'init') {\\n      assertThat(arguments[1],\\\n    \\ 'init called with incorrect pixelId').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'init called with incorrect initObj').isEqualTo(initObj);\\n\\\n    \\    } \\n  };\\n});\\n\\n// Call runCode to run the template's code.\\nrunCode(mockData);\\n\\\n    \\nassertThat(_fbq_gtm_ids, '_fbq_gtm_ids has incorrect contents').isEqualTo(mockData.pixelId.split(','));\\n\\\n    assertThat(index, 'init called incorrect number of times: ' + index).isEqualTo(2);\\n\\\n    assertThat(count, 'fbq.disablePushState called incorrect number of times: ' +\\\n    \\ count).isEqualTo(2);\\n\\n// Verify that the tag finished successfully.\\nassertApi('gtmOnSuccess').wasCalled();\"\n- name: Send standard event\n  code: \"const eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index\\\n    \\ = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.standardEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send custom event\n  code: \"mockData.eventName = 'custom';\\n\\nconst eventParams = {\\n  prop1: 'val1',\\n\\\n    \\  prop2: 'val2'\\n};\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if\\\n    \\ (key === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingleCustom')\\\n    \\ {\\n      assertThat(arguments[1], 'trackSingleCustom called with incorrect pixel\\\n    \\ ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n      assertThat(arguments[2],\\\n    \\ 'trackSingleCustom called with incorrect event name').isEqualTo(mockData.customEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingleCustom called with incorrect event\\\n    \\ parameters').isEqualTo(eventParams);\\n      index += 1;\\n    }\\n  };\\n});\\n\\\n    \\     \\n// Call runCode to run the template's code.\\nrunCode(mockData);\\n\\n//\\\n    \\ Verify that the tag finished successfully.\\nassertThat(index, 'trackSingleCustom\\\n    \\ called incorrect number of times').isEqualTo(2);\\nassertApi('gtmOnSuccess').wasCalled();\"\n- name: Send variable event with standard name\n  code: \"mockData.eventName = 'variable';\\nmockData.variableEventName = 'PageView';\\n\\\n    \\nconst eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index =\\\n    \\ 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.variableEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send variable event with custom name\n  code: \"mockData.eventName = 'variable';\\nmockData.variableEventName = 'custom';\\n\\\n    \\nconst eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index =\\\n    \\ 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingleCustom') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingleCustom called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingleCustom called with incorrect event\\\n    \\ name').isEqualTo(mockData.variableEventName);\\n      assertThat(arguments[3],\\\n    \\ 'trackSingleCustom called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingleCustom called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send event parameters from a variable\n  code: \"mockData.objectPropertiesFromVariable = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n\\\n    };\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.standardEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockData.objectPropertiesFromVariable);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce integration fails with invalid object\n  code: |-\n    mockData.enhancedEcommerce = true;\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('logToConsole').wasCalledWith('Facebook Pixel: No valid \"ecommerce\" object found in dataLayer');\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Enhanced Ecommerce integration fails with invalid action\n  code: |-\n    mockData.enhancedEcommerce = true;\n\n    mock('copyFromDataLayer', key => {\n      if (key === 'ecommerce') return {\n        invalid: true\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('logToConsole').wasCalledWith('Facebook Pixel: Most recently pushed \"ecommerce\" object must be one of types \"detail\", \"add\", \"checkout\" or \"purchase\".');\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Enhanced Ecommerce ViewContent works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertyList = {};\\n\\n\\\n    mock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode:\\\n    \\ 'EUR',\\n    detail: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\\n    \\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('ViewContent');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce AddToCart works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertyList = {};\\n\\n\\\n    mock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode:\\\n    \\ 'EUR',\\n    add: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\\n    \\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('AddToCart');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce InitiateCheckout works\n  code: \"mockData.enhancedEcommerce = true;\\nmockEec.fb.num_items = 3;\\nmockData.objectPropertyList\\\n    \\ = {};\\n\\nmock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return\\\n    \\ {\\n    currencyCode: 'EUR',\\n    checkout: {\\n      products: mockEec.gtm.products\\n\\\n    \\    }\\n  };\\n});\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('InitiateCheckout');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce Purchase works\n  code: \"mockData.enhancedEcommerce = true;\\nmockEec.fb.num_items = 3;\\nmockData.objectPropertyList\\\n    \\ = {};\\n\\nmock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return\\\n    \\ {\\n    currencyCode: 'EUR',\\n    purchase: {\\n      products: mockEec.gtm.products\\n\\\n    \\    }\\n  };\\n});\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('Purchase');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Object merge with variable and list works\n  code: \"mockData.objectPropertiesFromVariable = {\\n  prop1: 'var1',\\n  prop2: 'var2',\\n\\\n    \\  prop3: 'var3'\\n};\\n\\nconst expected = {\\n  prop1: 'val1',\\n  prop2: 'val2',\\n\\\n    \\  prop3: 'var3'\\n};\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if\\\n    \\ (key === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle')\\\n    \\ {\\n      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('PageView');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(expected);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Object merge with variable, list and eec works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertiesFromVariable\\\n    \\ = {\\n  content_type: 'product_group'\\n};\\nmockData.objectPropertyList = [{\\n\\\n    \\  name: 'currency',\\n  value: 'USD'\\n}];\\nmockEec.fb.num_items = 3;\\nmockEec.fb.content_type\\\n    \\ = 'product_group';\\nmockEec.fb.currency = 'USD';\\n\\nmock('copyFromDataLayer',\\\n    \\ key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode: 'EUR',\\n  \\\n    \\  purchase: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\nlet\\\n    \\ index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('Purchase');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send event ID\n  code: \"mockData.eventId = 'eventId';\\n\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[4], 'eventID not included in hit').isEqualTo({eventID:\\\n    \\ mockData.eventId});\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\nsetup: \"const mockData = {\\n  pixelId: '12345,23456',\\n  eventName: 'standard',\\n\\\n  \\  standardEventName: 'PageView',\\n  customEventName: 'custom',\\n  variableEventName:\\\n  \\ 'standard',\\n  consent: true,\\n  advancedMatching: false,\\n  advancedMatchingList:\\\n  \\ [{name: 'ct', value: 'Helsinki'},{name: 'cn', value: 'Finland'},{name: 'external_id',\\\n  \\ value: 'UserId'}],\\n  objectPropertiesFromVariable: false,\\n  objectPropertyList:\\\n  \\ [{name: 'prop1', value: 'val1'},{name: 'prop2', value: 'val2'}],\\n  disableAutoConfig:\\\n  \\ false,\\n  disablePushState: false,\\n  enhancedEcommerce: false,\\n  eventId: ''\\n\\\n  };\\n\\nconst mockEec = {\\n  gtm: {  \\n    products: [{\\n      id: 'i1',\\n      name:\\\n  \\ 'n1',\\n      category: 'c1',\\n      price: '1.00',\\n      quantity: 1\\n    },{\\n\\\n  \\      id: 'i2',\\n      name: 'n2',\\n      category: 'c2',\\n      price: '2.00',\\n\\\n  \\      quantity: 2\\n    }]\\n  },\\n  fb: {\\n    content_type: 'product',\\n    contents:\\\n  \\ [{\\n      id: 'i1',\\n      quantity: 1\\n    },{\\n      id: 'i2',\\n      quantity:\\\n  \\ 2\\n    }],\\n    currency: 'EUR',\\n    value: 5.00\\n  }\\n};\\n\\nconst scriptUrl\\\n  \\ = 'https://connect.facebook.net/en_US/fbevents.js';\\n\\n// Create injectScript\\\n  \\ mock\\nlet success, failure;\\nmock('injectScript', (url, onsuccess, onfailure)\\\n  \\ => {\\n  success = onsuccess;\\n  failure = onfailure;\\n  onsuccess();\\n});\\n\\n\\\n  mock('copyFromWindow', key => {\\n  if (key === 'fbq') return () => {};\\n});\"\n\n\n___NOTES___\n\nCreated on 18/05/2019, 21:57:16\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "facebookarchive",
                    "repository": "GoogleTagManager-WebTemplate-For-FacebookPixel",
                    "version": "11c004614f6b8f7cc999caabef521086116ce302",
                    "signature": "de30f66e675f24ef8640cea7175b615c94807fa8f027929f94c3d0b45a520d86"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "templateId": "51",
                "name": "Event Id",
                "fingerprint": "1696813134011",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"MACRO\",\n  \"id\": \"cvt_temp_public_id\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"Event Id\",\n  \"description\": \"generates a unique event id for all gtm / dataLayer events - based on a random id for every page.\",\n  \"containerContexts\": [\n    \"WEB\"\n  ],\n  \"brand\": {\n    \"displayName\": \"mbaersch\",\n    \"id\": \"github.com_mbaersch\"\n  }\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"useCustomEventCounter\",\n    \"checkboxText\": \"Custom Event Counter\",\n    \"simpleValueType\": true,\n    \"help\": \"The result will use gtm.uniqueEventId from the dataLayer to differentiate separate events on the same page. If that does not fit your triggering plan, you can use different event id variables for every event type and add your own counter. \\n\\nExample: separate event id for a purchase using the transaction id as unique counter.\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"customEventCounter\",\n    \"displayName\": \"\",\n    \"simpleValueType\": true,\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"useCustomEventCounter\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst copyFromDataLayer = require('copyFromDataLayer');\nconst setInWindow = require('setInWindow');\nconst copyFromWindow = require('copyFromWindow');\nconst getTimestampMillis = require('getTimestampMillis');\nconst generateRandom = require('generateRandom');\nvar eventId = copyFromWindow('_randomPageId');\nif (!eventId) {\n  eventId = getTimestampMillis() + '.' + generateRandom(100000, 999999);\n  setInWindow('_randomPageId', eventId, false);\n}\n\nvar uniqueEventCounter = (data.useCustomEventCounter === true) ? data.customEventCounter : copyFromDataLayer('gtm.uniqueEventId') || '0';\n\nreturn eventId + \".\" + uniqueEventCounter;\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_randomPageId\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"gtm.uniqueEventId\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios: []\n\n\n___NOTES___\n\nCreated on 22.4.2022, 10:03:29\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "mbaersch",
                    "repository": "event-id",
                    "version": "1b513f75db715689cc7da724c495c311d29b3354",
                    "signature": "e6728721e7ae069acbbd6924487fab591ffa3a39727fcc76ec7840329e46928e"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "templateId": "277",
                "name": "Data Tag",
                "fingerprint": "1766540835364",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_MBTSV\",\n  \"version\": 1,\n  \"displayName\": \"Data Tag\",\n  \"categories\": [\n    \"ANALYTICS\",\n    \"CONVERSIONS\"\n  ],\n  \"brand\": {\n    \"id\": \"github.com_stape-io\",\n    \"displayName\": \"stape-io\",\n    \"thumbnail\": \"data:image/png;base64,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\\u003d\"\n  },\n  \"description\": \"Use this tag for sending data to the Server Container.\",\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"event_type\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"standard\",\n        \"displayValue\": \"Standard\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"event_name_standard\",\n            \"selectItems\": [\n              {\n                \"value\": \"page_view\",\n                \"displayValue\": \"Page View\"\n              },\n              {\n                \"value\": \"add_payment_info\",\n                \"displayValue\": \"Add Payment Info\"\n              },\n              {\n                \"value\": \"add_to_cart\",\n                \"displayValue\": \"Add To Cart\"\n              },\n              {\n                \"value\": \"add_to_wishlist\",\n                \"displayValue\": \"Add To Wishlist\"\n              },\n              {\n                \"value\": \"begin_checkout\",\n                \"displayValue\": \"Begin Checkout\"\n              },\n              {\n                \"value\": \"contact\",\n                \"displayValue\": \"Contact\"\n              },\n              {\n                \"value\": \"customize_product\",\n                \"displayValue\": \"Customize Product\"\n              },\n              {\n                \"value\": \"donate\",\n                \"displayValue\": \"Donate\"\n              },\n              {\n                \"value\": \"exception\",\n                \"displayValue\": \"Exception\"\n              },\n              {\n                \"value\": \"find_location\",\n                \"displayValue\": \"Find Location\"\n              },\n              {\n                \"value\": \"generate_lead\",\n                \"displayValue\": \"Generate Lead\"\n              },\n              {\n                \"value\": \"join_group\",\n                \"displayValue\": \"Join Group\"\n              },\n              {\n                \"value\": \"login\",\n                \"displayValue\": \"Login\"\n              },\n              {\n                \"value\": \"purchase\",\n                \"displayValue\": \"Purchase\"\n              },\n              {\n                \"value\": \"refund\",\n                \"displayValue\": \"Refund\"\n              },\n              {\n                \"value\": \"schedule\",\n                \"displayValue\": \"Schedule\"\n              },\n              {\n                \"value\": \"search\",\n                \"displayValue\": \"Search\"\n              },\n              {\n                \"value\": \"select_content\",\n                \"displayValue\": \"Select Content\"\n              },\n              {\n                \"value\": \"share\",\n                \"displayValue\": \"Share\"\n              },\n              {\n                \"value\": \"sign_up\",\n                \"displayValue\": \"Sign Up\"\n              },\n              {\n                \"value\": \"start_trial\",\n                \"displayValue\": \"Start Trial\"\n              },\n              {\n                \"value\": \"submit_application\",\n                \"displayValue\": \"Submit Application\"\n              },\n              {\n                \"value\": \"subscribe\",\n                \"displayValue\": \"Subscribe\"\n              },\n              {\n                \"value\": \"view_item\",\n                \"displayValue\": \"View Item\"\n              },\n              {\n                \"value\": \"view_item_list\",\n                \"displayValue\": \"View Item List\"\n              },\n              {\n                \"value\": \"view_search_results\",\n                \"displayValue\": \"View Search Results\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"defaultValue\": \"page_view\",\n            \"alwaysInSummary\": true\n          }\n        ]\n      },\n      {\n        \"value\": \"custom\",\n        \"displayValue\": \"Custom\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"event_name_custom\",\n            \"simpleValueType\": true\n          }\n        ]\n      }\n    ],\n    \"simpleValueType\": true\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"gtm_server_domain\",\n    \"displayName\": \"GTM Server Side URL\",\n    \"simpleValueType\": true,\n    \"help\": \"Domain to where the tag will send requests.\\u003cbr\\u003eFor example: \\u003ci\\u003ehttps://gtm.example.com\\u003c/i\\u003e\",\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ],\n    \"alwaysInSummary\": true\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"add_data_layer\",\n    \"checkboxText\": \"Send all from DataLayer\",\n    \"simpleValueType\": true,\n    \"help\": \"Adds all Data Layer values to the request.\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"add_common\",\n    \"checkboxText\": \"Send common data\",\n    \"simpleValueType\": true,\n    \"help\": \"Adds to request:\\n\\u003cul\\u003e\\n\\u003cli\\u003epage_location\\u003c/li\\u003e\\n\\u003cli\\u003epage_path\\u003c/li\\u003e\\n\\u003cli\\u003epage_hostname\\u003c/li\\u003e\\n\\u003cli\\u003epage_referrer\\u003c/li\\u003e\\n\\u003cli\\u003epage_title\\u003c/li\\u003e\\n\\u003cli\\u003epage_encoding\\u003c/li\\u003e\\n\\u003cli\\u003escreen_resolution\\u003c/li\\u003e\\n\\u003cli\\u003eviewport_size\\u003c/li\\u003e\\n\\u003c/ul\\u003e\",\n    \"defaultValue\": true\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"add_consent_state\",\n    \"checkboxText\": \"Add consent state\",\n    \"simpleValueType\": true,\n    \"help\": \"Adds \\u003cb\\u003econsent_state\\u003c/b\\u003e object to request.\\u003cbr/\\u003e\\nIncluding following properties:\\u003cbr/\\u003e \\nad_storage\\u003cbr/\\u003e\\nad_user_data\\u003cbr/\\u003e\\nad_personalization\\u003cbr/\\u003e\\nanalytics_storage\\u003cbr/\\u003e\\nfunctionality_storage\\u003cbr/\\u003e\\npersonalization_storage\\u003cbr/\\u003e\\nsecurity_storage\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"add_common_cookie\",\n    \"checkboxText\": \"Add Common Cookie\",\n    \"simpleValueType\": true,\n    \"help\": \"The tag will send common cookies in \\u003cI\\u003eeventData\\u003c/i\\u003e to avoid some e-commerce platform limitations. Now supported by the next Stape tags: \\u003cbr /\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/facebook-tag\\\" target\\u003d\\\"_blank\\\"\\u003eFacebook Conversion API\\u003c/a\\u003e\\u003cbr /\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/tiktok-tag\\\" target\\u003d\\\"_blank\\\"\\u003eTikTok Events API\\u003c/a\\u003e\\u003cbr /\\u003e\\n\\u003ca href\\u003d\\\"https://github.com/stape-io/pinterest-tag\\\" target\\u003d\\\"_blank\\\"\\u003ePinterest Conversion API\\u003c/a\\u003e\\u003cbr /\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/snapchat-tag\\\" target\\u003d\\\"_blank\\\"\\u003eSnapchat Conversion API\\u003c/a\\u003e\\u003cbr /\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/taboola-tag\\\" target\\u003d\\\"_blank\\\"\\u003eTaboola\\u003c/a\\u003e\\u003c/br\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/awin-tag\\\" target\\u003d\\\"_blank\\\"\\u003eAwin\\u003c/a\\u003e\\u003c/br\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/rakuten-tag\\\" target\\u003d\\\"_blank\\\"\\u003eRakuten\\u003c/a\\u003e\\u003c/br\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/klaviyo-tag\\\" target\\u003d\\\"_blank\\\"\\u003eKlaviyo\\u003c/a\\u003e\\u003c/br\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/outbrain-tag\\\" target\\u003d\\\"_blank\\\"\\u003eOutbrain\\u003c/a\\u003e\\u003c/br\\u003e\\n\\u003ca href\\u003d\\\"https://tagmanager.google.com/gallery/#/owners/stape-io/templates/webgains-tag\\\" target\\u003d\\\"_blank\\\"\\u003eWebgains\\u003c/a\\u003e\\u003c/br\\u003e\\n\\u003ca href\\u003d\\\"https://github.com/stape-io/postscript-tag\\\" target\\u003d\\\"_blank\\\"\\u003ePostscript\\u003c/a\\u003e\\u003c/br\\u003e\\n\\u003ca href\\u003d\\\"https://github.com/stape-io/microsoft-capi-tag\\\" target\\u003d\\\"_blank\\\"\\u003eMicrosoft UET Conversion API\\u003c/a\\u003e\\u003c/br\\u003e\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"custom\",\n    \"displayName\": \"Event Data\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"custom_data\",\n        \"displayName\": \"\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Name\",\n            \"name\": \"name\",\n            \"type\": \"TEXT\",\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          },\n          {\n            \"defaultValue\": \"none\",\n            \"displayName\": \"Transformation\",\n            \"name\": \"transformation\",\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"none\",\n                \"displayValue\": \"None\"\n              },\n              {\n                \"value\": \"trim\",\n                \"displayValue\": \"Trim\"\n              },\n              {\n                \"value\": \"to_lower_case\",\n                \"displayValue\": \"To lower case\"\n              },\n              {\n                \"value\": \"md5\",\n                \"displayValue\": \"MD5 hash\"\n              },\n              {\n                \"value\": \"base64\",\n                \"displayValue\": \"Base64\"\n              },\n              {\n                \"value\": \"sha256base64\",\n                \"displayValue\": \"SHA-256 digest (Base64 encoded)\"\n              },\n              {\n                \"value\": \"sha256hex\",\n                \"displayValue\": \"SHA-256 digest (HEX encoded)\"\n              }\n            ],\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"none\",\n            \"displayName\": \"Store\",\n            \"name\": \"store\",\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"none\",\n                \"displayValue\": \"None\"\n              },\n              {\n                \"value\": \"all\",\n                \"displayValue\": \"Everywhere\"\n              },\n              {\n                \"value\": \"localStorage\",\n                \"displayValue\": \"Local Storage\"\n              },\n              {\n                \"value\": \"cookies\",\n                \"displayValue\": \"Cookies\"\n              }\n            ],\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"user\",\n    \"displayName\": \"User Data\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"user_data\",\n        \"displayName\": \"\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"email_address\",\n            \"displayName\": \"Name\",\n            \"name\": \"name\",\n            \"type\": \"SELECT\",\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ],\n            \"isUnique\": true,\n            \"selectItems\": [\n              {\n                \"value\": \"email_address\",\n                \"displayValue\": \"Email Address\"\n              },\n              {\n                \"value\": \"phone_number\",\n                \"displayValue\": \"Phone Number\"\n              },\n              {\n                \"value\": \"first_name\",\n                \"displayValue\": \"First Name\"\n              },\n              {\n                \"value\": \"last_name\",\n                \"displayValue\": \"Last Name\"\n              },\n              {\n                \"value\": \"gender\",\n                \"displayValue\": \"Gender\"\n              },\n              {\n                \"value\": \"db\",\n                \"displayValue\": \"Date of Birth\"\n              },\n              {\n                \"value\": \"street\",\n                \"displayValue\": \"Street\"\n              },\n              {\n                \"value\": \"city\",\n                \"displayValue\": \"City\"\n              },\n              {\n                \"value\": \"region\",\n                \"displayValue\": \"Region\"\n              },\n              {\n                \"value\": \"postal_code\",\n                \"displayValue\": \"Postal Code\"\n              },\n              {\n                \"value\": \"country\",\n                \"displayValue\": \"Country\"\n              },\n              {\n                \"value\": \"user_id\",\n                \"displayValue\": \"User ID\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          },\n          {\n            \"defaultValue\": \"none\",\n            \"displayName\": \"Transformation\",\n            \"name\": \"transformation\",\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"none\",\n                \"displayValue\": \"None\"\n              },\n              {\n                \"value\": \"trim\",\n                \"displayValue\": \"Trim\"\n              },\n              {\n                \"value\": \"to_lower_case\",\n                \"displayValue\": \"To lower case\"\n              },\n              {\n                \"value\": \"md5\",\n                \"displayValue\": \"MD5 hash\"\n              },\n              {\n                \"value\": \"base64\",\n                \"displayValue\": \"Base64\"\n              },\n              {\n                \"value\": \"sha256base64\",\n                \"displayValue\": \"SHA-256 digest (Base64 encoded)\"\n              },\n              {\n                \"value\": \"sha256hex\",\n                \"displayValue\": \"SHA-256 digest (HEX encoded)\"\n              }\n            ],\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"none\",\n            \"displayName\": \"Store\",\n            \"name\": \"store\",\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"none\",\n                \"displayValue\": \"None\"\n              },\n              {\n                \"value\": \"all\",\n                \"displayValue\": \"Everywhere\"\n              },\n              {\n                \"value\": \"localStorage\",\n                \"displayValue\": \"Local Storage\"\n              },\n              {\n                \"value\": \"cookies\",\n                \"displayValue\": \"Cookies\"\n              }\n            ],\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"settings\",\n    \"displayName\": \"Settings\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"request_type\",\n        \"displayName\": \"Request type\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": \"auto\",\n            \"displayValue\": \"Auto\"\n          },\n          {\n            \"value\": \"post\",\n            \"displayValue\": \"POST\"\n          },\n          {\n            \"value\": \"get\",\n            \"displayValue\": \"GET\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"auto\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ],\n        \"help\": \"We highly recommend using \\u003cb\\u003eAuto\\u003c/b\\u003e. Change this only if you know what you are doing.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"request_path\",\n        \"displayName\": \"Path\",\n        \"simpleValueType\": true,\n        \"defaultValue\": \"/data\",\n        \"help\": \"The path used for sending requests to the GTM Server Side container. If you use the Data client on GTM Server Side, the Path should be \\u003cb\\u003e/data\\u003c/b\\u003e.\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          },\n          {\n            \"type\": \"REGEX\",\n            \"args\": [\n              \"^/.*\"\n            ],\n            \"errorMessage\": \"The path must start with /.\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"protocol_version\",\n        \"displayName\": \"Protocol version\",\n        \"simpleValueType\": true,\n        \"defaultValue\": 2,\n        \"help\": \"Protocol version that used for sending a request to Data client on GTM Server Side.\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"data_tag_load_script_url\",\n        \"displayName\": \"Data Tag Script URL\",\n        \"simpleValueType\": true,\n        \"help\": \"URL where to load Data tag script from, by default it will be loaded from \\u003cI\\u003ehttps://stapecdn.com/dtag/${data-script-version}.js\\u003c/i\\u003e. This can be parameterized with \\u003ci\\u003e${data-script-version}\\u003c/i\\u003e in order to load the correct version for this tag.\",\n        \"valueValidators\": [\n          {\n            \"type\": \"REGEX\",\n            \"args\": [\n              \"^(https://).*(\\\\.js)$\"\n            ]\n          }\n        ],\n        \"alwaysInSummary\": false,\n        \"defaultValue\": \"https://stapecdn.com/dtag/v8.js\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"addGaParameters\",\n        \"checkboxText\": \"Add GA4 specific parameters\",\n        \"simpleValueType\": true,\n        \"help\": \"Adds specific parameters for the server GA4 tag.\",\n        \"defaultValue\": false,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"request_type\",\n            \"paramValue\": \"post\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"gaId\",\n        \"displayName\": \"Measurement ID\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"addGaParameters\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueHint\": \"G-ABCD123456\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ],\n        \"help\": \"Enter the Measurement ID of your GA4 property.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"dataLayerEventPush\",\n        \"checkboxText\": \"Push event to DataLayer after tag receives a response\",\n        \"simpleValueType\": true,\n        \"help\": \"Helpful in obtaining data from the server.\",\n        \"defaultValue\": false\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dataLayerEventName\",\n        \"displayName\": \"DataLayer Event Name\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dataLayerEventPush\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ],\n        \"valueHint\": \"page_view_response\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dataLayerVariableName\",\n        \"displayName\": \"DataLayer Object Name\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dataLayerEventPush\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ],\n        \"defaultValue\": \"dataLayer\",\n        \"help\": \"Use \\u003ci\\u003edataLayer\\u003c/i\\u003e by default. Modify only if you renamed dataLayer object name.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"richsstsse\",\n        \"checkboxText\": \"Support rich command protocol\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"request_type\",\n            \"paramValue\": \"get\",\n            \"type\": \"NOT_EQUALS\"\n          }\n        ],\n        \"help\": \"Useful if you have server-side tags, that (partially) depend on the \\u003cI\\u003esendPixelFromBrowser()\\u003c/i\\u003e API for 3rd party cookies (e.g. Google Ads Conversion, Google Ads Remarketing).\",\n        \"defaultValue\": false\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"waitForCookies\",\n        \"checkboxText\": \"Wait for cookies before event is pushed\",\n        \"simpleValueType\": true,\n        \"defaultValue\": false,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"richsstsse\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"help\": \"Wait for all cookies to be set before event is pushed to DataLayer. Helpful if a server-side tag sets cookies that a web tag relies on.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"useFetchInsteadOfXHR\",\n        \"checkboxText\": \"Use fetch instead of XMLHttpRequest (for POST requests only)\",\n        \"simpleValueType\": true,\n        \"help\": \"Using \\u003ci\\u003efetch\\u003c/i\\u003e with \\u003ci\\u003ekeepalive\\u003c/i\\u003e option which allow the request to outlive the page. \\u003ca href\\u003d\\\"https://developer.mozilla.org/en-US/docs/Web/API/fetch#keepalive\\\"\\u003eRead more\\u003c/a\\u003e.\",\n        \"defaultValue\": true\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst copyFromDataLayer = require('copyFromDataLayer');\nconst JSON = require('JSON');\nconst getUrl = require('getUrl');\nconst getReferrerUrl = require('getReferrerUrl');\nconst readTitle = require('readTitle');\nconst injectScript = require('injectScript');\nconst callInWindow = require('callInWindow');\nconst makeNumber = require('makeNumber');\nconst readCharacterSet = require('readCharacterSet');\nconst localStorage = require('localStorage');\nconst sendPixel = require('sendPixel');\nconst encodeUriComponent = require('encodeUriComponent');\nconst toBase64 = require('toBase64');\nconst makeString = require('makeString');\nconst setCookie = require('setCookie');\nconst getCookieValues = require('getCookieValues');\nconst getContainerVersion = require('getContainerVersion');\nconst isConsentGranted = require('isConsentGranted');\nconst getTimestampMillis = require('getTimestampMillis');\nconst generateRandom = require('generateRandom');\nconst copyFromWindow = require('copyFromWindow');\nconst setInWindow = require('setInWindow');\n\nlet pageLocation = getUrl();\n\nif (\n  pageLocation &&\n  pageLocation.lastIndexOf('https://gtm-msr.appspot.com/', 0) === 0\n) {\n  data.gtmOnSuccess();\n\n  return;\n}\n\nconst userAndCustomData = getUserAndCustomDataArray();\nlet requestType = determinateRequestType();\n\nconst normalizedServerUrl = normalizeServerUrl();\n\nif (requestType === 'post') {\n  const dataScriptVersion = 'v8';\n  const dataTagScriptUrl =\n    typeof data.data_tag_load_script_url !== 'undefined'\n      ? data.data_tag_load_script_url.replace(\n          '${data-script-version}',\n          dataScriptVersion\n        )\n      : 'https://stapecdn.com/dtag/' + dataScriptVersion + '.js';\n  injectScript(\n    dataTagScriptUrl,\n    sendPostRequest,\n    data.gtmOnFailure,\n    dataTagScriptUrl\n  );\n} else {\n  sendGetRequest();\n}\n\nfunction sendPostRequest() {\n  let eventData = {};\n\n  eventData = addCommonDataForPostRequest(data, eventData);\n  eventData = addRequiredDataForPostRequest(data, eventData);\n  eventData = addGaRequiredData(data, eventData);\n\n  callInWindow(\n    'dataTagSendData',\n    eventData,\n    normalizedServerUrl.gtmServerDomain,\n    normalizedServerUrl.requestPath +\n      '?v=' +\n      eventData.v +\n      '&event=' +\n      encodeUriComponent(eventData.event_name) +\n      (data.richsstsse ? '&richsstsse' : ''),\n    data.dataLayerEventName,\n    data.dataLayerVariableName,\n    data.waitForCookies,\n    data.useFetchInsteadOfXHR\n  );\n\n  data.gtmOnSuccess();\n}\n\nfunction sendGetRequest() {\n  sendPixel(\n    addDataForGetRequest(data, buildEndpoint()),\n    data.gtmOnSuccess,\n    data.gtmOnFailure\n  );\n}\n\nfunction normalizeServerUrl() {\n  let gtmServerDomain = data.gtm_server_domain;\n  let requestPath = data.request_path;\n\n  // Add 'https://' if gtmServerDomain doesn't start with it\n  if (gtmServerDomain.indexOf('http://') !== 0 && gtmServerDomain.indexOf('https://') !== 0) {\n    gtmServerDomain = 'https://' + gtmServerDomain;\n  }\n\n  // Removes trailing slash from gtmServerDomain if it ends with it\n  if (gtmServerDomain.charAt(gtmServerDomain.length - 1) === '/') {\n    gtmServerDomain = gtmServerDomain.slice(0, -1);\n  }\n\n  // Adds slash to first position of requestPath if doesn't start with it\n  if (requestPath.charAt(0) !== '/') {\n    requestPath = '/' + requestPath;\n  }\n\n  return {\n    gtmServerDomain: gtmServerDomain,\n    requestPath: requestPath\n  };\n}\n\nfunction buildEndpoint() {\n  return normalizedServerUrl.gtmServerDomain + normalizedServerUrl.requestPath;\n}\n\nfunction addRequiredDataForPostRequest(data, eventData) {\n  eventData.event_name = getEventName(data);\n  eventData.v = makeNumber(data.protocol_version);\n\n  let customData = getCustomData(data, true);\n\n  for (let key in customData) {\n    eventData[customData[key].name] = customData[key].value;\n  }\n\n  eventData = addTempClientId(eventData);\n\n  return eventData;\n}\n\nfunction addGaRequiredData(data, eventData) {\n  if (data.addGaParameters && data.gaId) {\n    eventData['x-ga-measurement_id'] = data.gaId;\n    eventData['x-ga-page_id'] = copyFromDataLayer('gtm.start');\n    eventData['x-ga-mp2-richsstsse'] = '';\n    eventData['x-ga-mp2-seg'] = 1;\n    eventData['x-ga-request_count'] = 1;\n    eventData['x-ga-protocol_version'] = 2;\n    eventData.v = 2;\n  }\n\n  return eventData;\n}\n\nfunction addDataForGetRequest(data, url) {\n  let eventData = {};\n  url +=\n    '?v=' +\n    data.protocol_version +\n    '&event=' +\n    encodeUriComponent(getEventName(data));\n\n  if (data.add_common) {\n    eventData = addCommonData(data, eventData);\n  }\n\n  if (data.add_consent_state) {\n    eventData = addConsentStateData(eventData);\n  }\n\n  if (data.add_common_cookie) {\n    eventData = addCommonCookie(eventData);\n  }\n\n  let customData = getCustomData(data, false);\n\n  if (customData.length) {\n    for (let customDataKey in customData) {\n      eventData[customData[customDataKey].name] =\n        customData[customDataKey].value;\n    }\n  }\n\n  eventData = addTempClientId(eventData);\n\n  if (data.request_type === 'auto') {\n    return (\n      url + '&dtdc=' + encodeUriComponent(toBase64(JSON.stringify(eventData)))\n    );\n  }\n\n  for (let eventDataKey in eventData) {\n    url +=\n      '&' +\n      eventDataKey +\n      '=' +\n      (eventData[eventDataKey]\n        ? encodeUriComponent(eventData[eventDataKey])\n        : '');\n  }\n\n  return url;\n}\n\nfunction addCommonDataForPostRequest(data, eventData) {\n  if (data.add_common || data.add_data_layer) {\n    const dataTagData = callInWindow(\n      'dataTagGetData',\n      getContainerVersion()['containerId']\n    );\n\n    if (data.add_data_layer && dataTagData.dataModel) {\n      for (let dataKey in dataTagData.dataModel) {\n        eventData[dataKey] = dataTagData.dataModel[dataKey];\n      }\n    }\n\n    if (data.add_common) {\n      eventData = addCommonData(data, eventData);\n      eventData.screen_resolution =\n        dataTagData.screen.width + 'x' + dataTagData.screen.height;\n      eventData.viewport_size =\n        dataTagData.innerWidth + 'x' + dataTagData.innerHeight;\n    }\n  }\n  if (data.add_consent_state) {\n    eventData = addConsentStateData(eventData);\n  }\n\n  if (data.add_common_cookie) {\n    eventData = addCommonCookie(eventData);\n  }\n\n  return eventData;\n}\n\nfunction addCommonData(data, eventData) {\n  eventData.page_location = getUrl();\n  eventData.page_hostname = getUrl('host');\n  eventData.page_referrer = getReferrerUrl();\n  eventData.page_title = readTitle();\n  eventData.page_encoding = readCharacterSet();\n\n  return eventData;\n}\n\nfunction addConsentStateData(eventData) {\n  eventData.consent_state = {\n    ad_storage: isConsentGranted('ad_storage'),\n    ad_user_data: isConsentGranted('ad_user_data'),\n    ad_personalization: isConsentGranted('ad_personalization'),\n    analytics_storage: isConsentGranted('analytics_storage'),\n    functionality_storage: isConsentGranted('functionality_storage'),\n    personalization_storage: isConsentGranted('personalization_storage'),\n    security_storage: isConsentGranted('security_storage'),\n  };\n  return eventData;\n}\n\nfunction addTempClientId(eventData) {\n  const tempClientIdStorageKey = 'gtm_dataTagTempClientId';\n  const tempClientId = copyFromWindow(tempClientIdStorageKey) || \n    'dcid.1.' +\n    getTimestampMillis() +\n    '.' +\n    generateRandom(100000000, 999999999);\n  \n  eventData._dcid_temp = tempClientId;\n  setInWindow(tempClientIdStorageKey, eventData._dcid_temp);\n\n  return eventData;\n}\n\nfunction getEventName(data) {\n  const eventName = 'page_view';\n\n  if (data.event_type === 'standard') {\n    return data.event_name_standard ? data.event_name_standard : eventName;\n  }\n\n  if (data.event_type === 'custom') {\n    return data.event_name_custom ? data.event_name_custom : eventName;\n  }\n\n  return eventName;\n}\n\nfunction getCustomData(data, dtagLoaded) {\n  let dataToStore = [];\n  let customData = userAndCustomData;\n\n  for (let dataKey in customData) {\n    let dataValue = customData[dataKey].value;\n    let dataTransformation = customData[dataKey].transformation;\n\n    if (dataValue) {\n      if (dataTransformation === 'trim') {\n        dataValue = makeString(dataValue);\n        dataValue = dataValue.trim();\n      }\n\n      if (dataTransformation === 'to_lower_case') {\n        dataValue = makeString(dataValue);\n        dataValue = dataValue.trim().toLowerCase();\n      }\n\n      if (dataTransformation === 'base64') {\n        dataValue = makeString(dataValue);\n        dataValue = toBase64(dataValue);\n      }\n\n      if (dtagLoaded && dataTransformation === 'md5') {\n        dataValue = makeString(dataValue);\n        dataValue = callInWindow('dataTagMD5', dataValue.trim().toLowerCase());\n      }\n\n      if (dtagLoaded && dataTransformation === 'sha256base64') {\n        dataValue = makeString(dataValue);\n        dataValue = callInWindow(\n          'dataTag256',\n          dataValue.trim().toLowerCase(),\n          'B64'\n        );\n      }\n\n      if (dtagLoaded && dataTransformation === 'sha256hex') {\n        dataValue = makeString(dataValue);\n        dataValue = callInWindow(\n          'dataTag256',\n          dataValue.trim().toLowerCase(),\n          'HEX'\n        );\n      }\n\n      if (customData[dataKey].store && customData[dataKey].store !== 'none') {\n        dataToStore.push({\n          store: customData[dataKey].store,\n          name: customData[dataKey].name,\n          value: dataValue,\n        });\n      }\n\n      customData[dataKey].value = dataValue;\n    }\n  }\n\n  if (dataToStore.length !== 0) {\n    storeData(dataToStore);\n  }\n\n  return customData;\n}\n\nfunction storeData(dataToStore) {\n  let dataToStoreCookieResult = {};\n  let dataToStoreLocalStorageResult = {};\n  let dataToStoreCookie = getCookieValues('stape')[0];\n\n  if (dataToStoreCookie) {\n    dataToStoreCookie = JSON.parse(dataToStoreCookie);\n\n    if (dataToStoreCookie) {\n      for (let attrName in dataToStoreCookie) {\n        if (dataToStoreCookie[attrName])\n          dataToStoreCookieResult[attrName] = dataToStoreCookie[attrName];\n      }\n    }\n  }\n\n  if (localStorage) {\n    let dataToStoreLocalStorage = localStorage.getItem('stape');\n\n    if (dataToStoreLocalStorage) {\n      dataToStoreLocalStorage = JSON.parse(dataToStoreLocalStorage);\n\n      if (dataToStoreLocalStorage) {\n        for (let attrName in dataToStoreLocalStorage) {\n          if (dataToStoreLocalStorage[attrName])\n            dataToStoreLocalStorageResult[attrName] =\n              dataToStoreLocalStorage[attrName];\n        }\n      }\n    }\n  }\n\n  for (let attrName in dataToStore) {\n    if (dataToStore[attrName].value) {\n      if (\n        dataToStore[attrName].store === 'all' ||\n        dataToStore[attrName].store === 'localStorage'\n      ) {\n        dataToStoreLocalStorageResult[dataToStore[attrName].name] =\n          dataToStore[attrName].value;\n      }\n\n      if (\n        dataToStore[attrName].store === 'all' ||\n        dataToStore[attrName].store === 'cookies'\n      ) {\n        dataToStoreCookieResult[dataToStore[attrName].name] =\n          dataToStore[attrName].value;\n      }\n    }\n  }\n\n  if (localStorage && getObjectLength(dataToStoreLocalStorageResult) !== 0) {\n    localStorage.setItem(\n      'stape',\n      JSON.stringify(dataToStoreLocalStorageResult)\n    );\n  }\n\n  if (getObjectLength(dataToStoreCookieResult) !== 0) {\n    setCookie('stape', JSON.stringify(dataToStoreCookieResult), {\n      secure: true,\n      domain: 'auto',\n      path: '/',\n    });\n  }\n}\n\nfunction getObjectLength(object) {\n  let length = 0;\n\n  for (let key in object) {\n    if (object.hasOwnProperty(key)) {\n      ++length;\n    }\n  }\n  return length;\n}\n\nfunction determinateRequestType() {\n  if (data.request_type !== 'auto') {\n    return data.request_type;\n  }\n\n  if (data.add_data_layer) {\n    return 'post';\n  }\n\n  if (data.dataLayerEventPush) {\n    return 'post';\n  }\n\n  if (data.richsstsse) {\n    return 'post';\n  }\n\n  const isHashingEnabled = userAndCustomData.some(\n    (item) =>\n      item.transformation === 'md5' ||\n      item.transformation === 'sha256base64' ||\n      item.transformation === 'sha256hex'\n  );\n\n  if (isHashingEnabled) return 'post';\n\n  const userAndCustomDataLength = makeNumber(\n    JSON.stringify(userAndCustomData).length\n  );\n  return userAndCustomDataLength > 1500 ? 'post' : 'get';\n}\n\nfunction getUserAndCustomDataArray() {\n  let userAndCustomDataArray = [];\n\n  if (data.custom_data && data.custom_data.length) {\n    userAndCustomDataArray = data.custom_data;\n  }\n\n  if (data.user_data && data.user_data.length) {\n    for (let userDataKey in data.user_data) {\n      userAndCustomDataArray.push(data.user_data[userDataKey]);\n    }\n  }\n  return userAndCustomDataArray;\n}\n\nfunction addCommonCookie(eventData) {\n  const cookieNames = [\n    // FB cookies\n    '_fbc',\n    '_fbp',\n    '_gtmeec',\n    // TikTok cookies\n    'ttclid',\n    '_ttp',\n    // Pinterest cookies\n    '_epik',\n    // Snapchat cookies\n    '_scid',\n    '_scclid',\n    // Taboola cookies\n    'taboola_cid',\n    // Awin cookies\n    'awin_awc',\n    'awin_sn_awc',\n    'awin_source',\n    // Rakuten cookies\n    'rakuten_site_id',\n    'rakuten_time_entered',\n    'rakuten_ran_mid',\n    'rakuten_ran_eaid',\n    'rakuten_ran_site_id',\n    // Klaviyo cookies\n    'stape_klaviyo_email',\n    'stape_klaviyo_kx',\n    'stape_klaviyo_viewed_items',\n    // Outbrain cookies\n    'outbrain_cid',\n    // Webgains cookies\n    'wg_cid',\n    // Postscript cookies\n    'ps_id',\n    // Microsoft UET CAPI cookies\n    'uet_msclkid', '_uetmsclkid',\n    'uet_vid', '_uetvid'\n  ];\n  let commonCookie = null;\n\n  for (var i = 0; i < cookieNames.length; i++) {\n    const name = cookieNames[i];\n    var cookie = getCookieValues(name)[0];\n    if (cookie) {\n      commonCookie = commonCookie || {};\n      commonCookie[name] = cookie;\n    }\n  }\n  if (commonCookie) {\n    eventData.common_cookie = commonCookie;\n  }\n  return eventData;\n}\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataLayer\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataTagSendData\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataTagGetData\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataTagData\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataTagMD5\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataTag256\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"gtm_dataTagTempClientId\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_referrer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedKeys\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"gtm.uniqueEventId\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"gtm.start\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_title\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_url\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"inject_script\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://stapecdn.com/dtag/*\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_local_storage\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"stape\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_character_set\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_pixel\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"cookieAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"cookieNames\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"stape\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_fbc\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_fbp\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_gtmeec\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"ttclid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_ttp\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_epik\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_scid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_scclid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"taboola_cid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"awin_awc\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"awin_sn_awc\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"awin_source\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"rakuten_site_id\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"rakuten_time_entered\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"rakuten_ran_mid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"rakuten_ran_eaid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"rakuten_ran_site_id\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"stape_klaviyo_email\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"stape_klaviyo_kx\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"stape_klaviyo_viewed_items\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"outbrain_cid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"wg_cid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"ps_id\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"uet_msclkid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_uetmsclkid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"uet_vid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_uetvid\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"set_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedCookies\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"stape\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_container_data\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_consent\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"consentTypes\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ad_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ad_user_data\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ad_personalization\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"analytics_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"functionality_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"personalization_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"security_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: GTM Server Side URL and Request Path for GET requests are normalized\n  code: \"mockData.request_type = 'get';\\nmockData.event_type = 'standard';\\nmockData.event_name_standard\\\n    \\ = 'page_view';\\n\\n[\\n  { gtm_server_domain: 'example.com', request_path: '/foo',\\\n    \\ expectedServerUrl: 'https://example.com/foo' },\\n  { gtm_server_domain: 'example.com/',\\\n    \\ request_path: '/foo', expectedServerUrl: 'https://example.com/foo' },\\n  { gtm_server_domain:\\\n    \\ 'https://example.com', request_path: '/foo', expectedServerUrl: 'https://example.com/foo'\\\n    \\ },\\n  { gtm_server_domain: 'https://example.com/', request_path: '/foo', expectedServerUrl:\\\n    \\ 'https://example.com/foo' },\\n  { gtm_server_domain: 'example.com', request_path:\\\n    \\ 'foo/', expectedServerUrl: 'https://example.com/foo' },\\n  { gtm_server_domain:\\\n    \\ 'example.com/', request_path: 'foo/', expectedServerUrl: 'https://example.com/foo'\\\n    \\ },\\n  { gtm_server_domain: 'https://example.com', request_path: 'foo/', expectedServerUrl:\\\n    \\ 'https://example.com/foo' },\\n  { gtm_server_domain: 'https://example.com/',\\\n    \\ request_path: 'foo/', expectedServerUrl: 'https://example.com/foo' },\\n  { gtm_server_domain:\\\n    \\ 'http://example.com', request_path: '/foo', expectedServerUrl: 'http://example.com/foo'\\\n    \\ },\\n  { gtm_server_domain: 'http://example.com/', request_path: '/foo', expectedServerUrl:\\\n    \\ 'http://example.com/foo' },\\n  { gtm_server_domain: 'http://example.com', request_path:\\\n    \\ 'foo/', expectedServerUrl: 'http://example.com/foo' },\\n  { gtm_server_domain:\\\n    \\ 'http://example.com/', request_path: 'foo/', expectedServerUrl: 'http://example.com/foo'\\\n    \\ },\\n].forEach((testCase, testNumber) => {\\n  mockData.gtm_server_domain = testCase.gtm_server_domain;\\n\\\n    \\  mockData.request_path = testCase.request_path;\\n  \\n  mock('sendPixel', function(url,\\\n    \\ onSuccess, onFailure) {\\n    // logToConsole('#' + testNumber + ' - sendPixel\\\n    \\ called with URL:', url);\\n    assertThat(url).contains(testCase.expectedServerUrl);\\n\\\n    \\  });\\n\\n  runCode(mockData);\\n});\"\n- name: GTM Server Side URL and Request Path for POST requests are normalized\n  code: \"mockData.request_type = 'post';\\nmockData.event_type = 'standard';\\nmockData.event_name_standard\\\n    \\ = 'cc';\\n\\nmock('injectScript', function(url, onSuccess, onFailure, cacheToken)\\\n    \\ {\\n  onSuccess();\\n});\\n\\nconst expectedRequestPathParams = '?v=' + mockData.protocol_version;\\n\\\n    \\n[\\n  { gtm_server_domain: 'example.com', request_path: '/foo', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'example.com/', request_path: '/foo', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'https://example.com', request_path: '/foo', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'https://example.com/', request_path: '/foo', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'example.com', request_path: 'foo/', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo/' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'example.com/', request_path: 'foo/', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo/' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'https://example.com', request_path: 'foo/', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo/' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'https://example.com/', request_path: 'foo/', expectedGtmServerDomain:\\\n    \\ 'https://example.com', expectedRequestPath: '/foo/' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'http://example.com', request_path: '/foo', expectedGtmServerDomain:\\\n    \\ 'http://example.com', expectedRequestPath: '/foo' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'http://example.com/', request_path: '/foo', expectedGtmServerDomain:\\\n    \\ 'http://example.com', expectedRequestPath: '/foo' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'http://example.com', request_path: 'foo/', expectedGtmServerDomain:\\\n    \\ 'http://example.com', expectedRequestPath: '/foo/' + expectedRequestPathParams\\\n    \\ },\\n  { gtm_server_domain: 'http://example.com/', request_path: 'foo/', expectedGtmServerDomain:\\\n    \\ 'http://example.com', expectedRequestPath: '/foo/' + expectedRequestPathParams\\\n    \\ },\\n].forEach((testCase, testNumber) => {\\n  mockData.gtm_server_domain = testCase.gtm_server_domain;\\n\\\n    \\  mockData.request_path = testCase.request_path;\\n  \\n  mock('callInWindow',\\\n    \\ function(functionName, eventData, gtmServerDomain, requestPath, dataLayerEventName,\\\n    \\ dataLayerVariableName, waitForCookies, useFetchInsteadOfXHR) {\\n    /*\\n   \\\n    \\ logToConsole('#' + testNumber + ' - callInWindow called with:', {\\n      functionName:\\\n    \\ functionName,\\n      gtmServerDomain: gtmServerDomain,\\n      requestPath: requestPath,\\n\\\n    \\    });\\n    */\\n    \\n    assertThat(gtmServerDomain).isEqualTo(testCase.expectedGtmServerDomain);\\n\\\n    \\    const requestPathStartsWith = requestPath.indexOf(testCase.expectedRequestPath)\\\n    \\ === 0;\\n    assertThat(requestPathStartsWith).isTrue();\\n  });\\n\\n  runCode(mockData);\\n\\\n    });\"\nsetup: |-\n  const mockData = {\n    protocol_version: '2'\n  };\n\n\n___NOTES___\n\nCreated on 21/03/2021, 11:26:46\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "stape-io",
                    "repository": "data-tag",
                    "version": "a0aececc652374243dc1018dc83f31cb7dd6d41e",
                    "signature": "596248a7d3cd306c07f8ca39a928d5c54d6f2a23df2221e23b59ab4dcdae7f7f",
                    "galleryTemplateId": "MBTSV"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "templateId": "321",
                "name": "Complianz.io - The Privacy Suite for WordPress",
                "fingerprint": "1748618422989",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_WF68Z\",\n  \"version\": 1,\n  \"categories\": [\n    \"TAG_MANAGEMENT\",\n    \"ADVERTISING\",\n    \"UTILITY\"\n  ],\n  \"displayName\": \"Complianz.io - The Privacy Suite for WordPress\",\n  \"brand\": {\n    \"id\": \"github.com_complianz\",\n    \"displayName\": \"complianz\",\n    \"thumbnail\": \"data:image/png;base64,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\\u003d\"\n  },\n  \"description\": \"Consent Mode GTM Template by Complianz\",\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"defaultSettings2\",\n    \"displayName\": \"Default Consent State\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"region\",\n        \"displayName\": \"Region\",\n        \"simpleValueType\": true,\n        \"help\": \"Leave empty for the default set-up. Complianz handles regions automatically based on your wizard configuration. Check our documentation to change, if needed.\",\n        \"valueHint\": \"Automated by Complianz\",\n        \"defaultValue\": \"\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"defaultConsentPreferences\",\n        \"displayName\": \"Preferences (personalization_storage)\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": \"denied\",\n            \"displayValue\": \"Denied (Default)\"\n          },\n          {\n            \"value\": \"granted\",\n            \"displayValue\": \"Granted\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"Select default consent state for preference cookies\",\n        \"defaultValue\": \"denied\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"defaultConsentStatistics\",\n        \"displayName\": \"Analytics (analytics_storage)\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": \"denied\",\n            \"displayValue\": \"Denied (Default)\"\n          },\n          {\n            \"value\": \"granted\",\n            \"displayValue\": \"Granted\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"Select default consent state for analytics tracking\",\n        \"defaultValue\": \"denied\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"defaultConsentMarketing\",\n        \"displayName\": \"Advertising (ad_storage, ad_user_data, ad_personalization)\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": \"denied\",\n            \"displayValue\": \"Denied (Default)\"\n          },\n          {\n            \"value\": \"granted\",\n            \"displayValue\": \"Granted\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"Select default consent state for marketing and advertising\",\n        \"defaultValue\": \"denied\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"ads_data_redaction\",\n        \"checkboxText\": \"Redact Ads Data\",\n        \"simpleValueType\": true,\n        \"help\": \"When ad data redaction is true and marketing cookies are denied, ad click identifiers sent in network requests by Google Ads and Floodlight tags will be redacted. Network requests will also be sent through a cookieless domain\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"url_passthrough\",\n        \"checkboxText\": \"Enable URL passthrough\",\n        \"simpleValueType\": true,\n        \"help\": \"\"\n      }\n    ],\n    \"help\": \"A default consent state of \\u0027denied\\u0027 will apply until the user has submitted a consent.\"\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\n// The first two lines are optional, use if you want to enable logging\nconst log = require('logToConsole');\nconst setDefaultConsentState = require('setDefaultConsentState');\nconst updateConsentState = require('updateConsentState');\nconst getCookieValues = require('getCookieValues');//permission to reach specific cookies is set\nconst callInWindow = require('callInWindow');//permission for each used function is set\nconst gtagSet = require('gtagSet'); //permission for each used key is set\nconst COOKIE_NAME = 'cmplz_consent_mode'; //permission for this name is set\nconst marketingCategories = ['ad_storage', 'ad_user_data', 'ad_personalization'];\nconst statisticsCategories = ['analytics_storage'];\nconst defaultCategories = [ 'functionality_storage','security_storage'];\nconst preferencesCategories = [ 'personalization_storage' ];\nconst allCategories = ['ad_storage','analytics_storage','functionality_storage','security_storage','personalization_storage', 'ad_user_data', 'ad_personalization'];\n log(\"ConsentModeV2\",data);\n/**\n * Splits the input string using comma as a delimiter, returning an array of\n * strings\n */\nconst splitInput = (input) => {\n    //  log('split input ', input);\n\treturn input.split(',')\n\t\t.map(entry => entry.trim())\n\t\t.filter(entry => entry.length !== 0);\n};\n\nconst defaultGrantedCategories = () => {\n    let defaultSettings = data;\n\n        let granted = defaultCategories;\n        if (defaultSettings.defaultConsentMarketing === 'granted' ){\n          granted = granted.concat(marketingCategories);\n        }\n        if (defaultSettings.defaultConsentStatistics === 'granted' ){\n          granted = granted.concat(statisticsCategories);\n        }\n        if (defaultSettings.defaultConsentPreferences === 'granted' ){\n          granted = granted.concat(preferencesCategories);\n        }\n  return granted;\n};\n\nconst onUserRevoke = () => {\n    let granted = defaultGrantedCategories();\n    //  log('onuser revoke',getConsentState(granted));\n\tonUserConsent(getConsentState(granted));\n};\n\nconst onUserConsent = (consent) => {\n    //  log('onuser consent',consent);\n\tupdateConsentState(consent);\n};\n\nconst getConsentState = (granted) => {\n  let denied = allCategories;\n  let consentState = {};\n  granted.forEach(entry => {\n\tdenied = denied.filter(item => item !== entry);\n\tconsentState[entry] = 'granted';\n  });\n  denied.forEach(entry => {\n\tconsentState[entry] = 'denied';\n  });\n  return consentState;\n};\n\n/**\n * Executes the default command, sets the developer ID, and sets up the consent\n * update callback\n */\nconst main = (data) => {\n  // log('loaded main');\n\tgtagSet(\n\t\t'developer_id.dYWVlZG', true\n\t);\n  // log('added dev id');\n\t\n  gtagSet('ads_data_redaction', data.ads_data_redaction);\n  gtagSet('url_passthrough', data.url_passthrough);\n  // log('added data redaction', data.ads_data_redaction);\n  \n   const settings = getCookieValues(COOKIE_NAME);\n  \n    // set default state\n        let granted = defaultGrantedCategories();\n  // log('set default state, granted', granted);\n        let defaultConsent = getConsentState(granted);\n  // log('defaultconsent',defaultConsent);\n\t\tdefaultConsent.wait_for_update = 500;\n\t\tsetDefaultConsentState(defaultConsent);\n    \n  // log('new data', data);\n  // log('cookie settings', settings);\n\tif (settings && settings.length>0) {\n      // log(\"found settings\");\n      let granted = splitInput(settings[0]);\n  // log('load stored state, granted', granted);\n  // log('update state', getConsentState(granted));\n\t\tonUserConsent(getConsentState(granted));\n    } \n  \n\tcallInWindow('addConsentUpdateListener', onUserConsent);\n\tcallInWindow('addRevokeListener', onUserRevoke);\n};\nmain(data);\ndata.gtmOnSuccess();\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"addConsentUpdateListener\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"addRevokeListener\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"write_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"developer_id.dYWVlZG\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"ads_data_redaction\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"url_passthrough\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"cookieAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"cookieNames\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"cmplz_consent_mode\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_consent\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"consentTypes\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ad_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"analytics_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"functionality_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"personalization_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"security_storage\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ad_user_data\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"consentType\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ad_personalization\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"all\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios: []\n\n\n___NOTES___\n\nCreated on 12/10/2023, 16:17:33\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "complianz",
                    "repository": "complianz-cm-template",
                    "version": "78d28ac5ebebfa5aa6c3626a06516b012dd1f9cb",
                    "signature": "137e54c6c4c4153b74339fdc72ce08e86e399785b25c0d522f478e2c2f38a67f",
                    "galleryTemplateId": "WF68Z"
                }
            },
            {
                "accountId": "6134998071",
                "containerId": "134846891",
                "templateId": "349",
                "name": "Unique Event ID",
                "fingerprint": "1752837086838",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"MACRO\",\n  \"id\": \"cvt_M63B8\",\n  \"version\": 1,\n  \"displayName\": \"Unique Event ID\",\n  \"description\": \"Generates unique event id\",\n  \"categories\": [\n    \"UTILITY\"\n  ],\n  \"containerContexts\": [\n    \"WEB\"\n  ],\n  \"brand\": {\n    \"displayName\": \"stape-io\",\n    \"id\": \"github.com_stape-io\"\n  }\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst copyFromDataLayer = require('copyFromDataLayer');\nconst setInWindow = require('setInWindow');\nconst copyFromWindow = require('copyFromWindow');\nconst getTimestampMillis = require('getTimestampMillis');\nconst generateRandom = require('generateRandom');\n\n\nreturn getBrowserId() + '_' + getPageLoadId() + getGtmUniqueEventId();\n\nfunction getGtmUniqueEventId() {\n    let gtmId = copyFromDataLayer('gtm.uniqueEventId')  || 0;\n    return gtmId >= 0 ? gtmId : '00';\n}\n\nfunction getBrowserId() {\n    let gtmBrowserId =  copyFromWindow('gtmBrowserId');\n\n    if (!gtmBrowserId) {\n        gtmBrowserId = getTimestampMillis() + generateRandom(100000, 999999);\n        setInWindow('gtmBrowserId', gtmBrowserId, false);\n    }\n\n    return gtmBrowserId;\n}\n\nfunction getPageLoadId() {\n  let eventId = copyFromWindow('gtmPageLoadId');\n\n  if (!eventId) {\n    eventId = getTimestampMillis() + generateRandom(100000, 999999);\n    setInWindow('gtmPageLoadId', eventId, false);\n  }\n\n  return eventId;\n}\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedKeys\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"gtm.uniqueEventId\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"gtmPageLoadId\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"gtmBrowserId\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios: []\n\n\n___NOTES___\n\nCreated on 11/03/2021, 11:05:32\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "stape-io",
                    "repository": "unique-event-id-variable",
                    "version": "76498f16f1954b0286640d19eb6a1ddf2909e183",
                    "signature": "fe53a57c443dd898aa8ad7095fc9a32114fafa6af0eb66b1671338f69d9530be",
                    "galleryTemplateId": "M63B8"
                }
            }
        ]
    }
}